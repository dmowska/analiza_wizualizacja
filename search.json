[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Analiza i wizualizacja struktury ludności",
    "section": "",
    "text": "O skrypcie\nSkrypt zawiera materiały do ćwiczeń z przedmiotu Analiza i wizualizacja struktury ludności"
  },
  {
    "objectID": "index.html#struktura-skryptu",
    "href": "index.html#struktura-skryptu",
    "title": "Analiza i wizualizacja struktury ludności",
    "section": "Struktura skryptu",
    "text": "Struktura skryptu\nSkrypt składa się z kilku części:\n\nczęść 1: Wprowadzenie do tematyki zajęć\nczęść 2: Analiza w R - kod R zawierający przykłady wykonania analz\nczęść 3: Zestaw ćwiczeń do samodzielnego wykonania"
  },
  {
    "objectID": "index.html#dane",
    "href": "index.html#dane",
    "title": "Analiza i wizualizacja struktury ludności",
    "section": "Dane",
    "text": "Dane\nDane wykorzystywane w skrypcie:\n\ndane atrybutowe zawierające informacje o strukturze przestrzennej w wybranych hrabstwach [POBIERZ]\ndane przestrzenne zawierające granice obszarów spisowych dla wybranych hrabstw [POBIERZ]\ndane wykorzystywane w ćwiczeniu 2 do testowania i obliczania różnych miar segregacji i zróżnicowania rasowo-etnicznego [POBIERZ]\nKod hrabstw ułatwiający selekcję odpowiednich danych [POBIERZ]"
  },
  {
    "objectID": "1a_struktura_ludnosci.html#pojęcie-rasy-w-stanach-zjednoczonych",
    "href": "1a_struktura_ludnosci.html#pojęcie-rasy-w-stanach-zjednoczonych",
    "title": "1  Rasowo-etniczna struktura ludności",
    "section": "1.1 Pojęcie rasy w Stanach Zjednoczonych",
    "text": "1.1 Pojęcie rasy w Stanach Zjednoczonych\nPojęcie rasy w Stanach Zjednoczonych zawsze odzwierciedlało społeczną definicję rasy bez próby definiowania jej w odniesieniu biologicznym, antropologicznym czy genetycznym.\nKlasyfikacja ras stosowana w Stanach Zjednoczonych zmieniała na się na przestrzeni lat, tak aby odzwierciedlać, nie tylko zmiany demograficzne, ale także polityczne i społeczne zachodzące w Stanach Zjednoczonych. Np. w Spisie od 1990 roku Rdzenni Hawajczycy oraz Azjaci stanowili jedną wspólną kategorię. Ponadto, od 2000 roku w Spisach Ludności pojawiła się możliwość zadeklarowania przynależności do więcej niż jednej grupy rasowej."
  },
  {
    "objectID": "1a_struktura_ludnosci.html#kategorie-rasowe-i-etniczne",
    "href": "1a_struktura_ludnosci.html#kategorie-rasowe-i-etniczne",
    "title": "1  Rasowo-etniczna struktura ludności",
    "section": "1.2 Kategorie rasowe i etniczne",
    "text": "1.2 Kategorie rasowe i etniczne\nW Stanach Zjednoczonych obowiązuje klasyfikacja rasowo-etniczna zgodna z wytycznymi z 1997 roku Amerykańskiego Biura Zarządzania i Budżetu (ang. U.S. Office of Management and Budget (OMB)). Wytyczne te wymagają uwzględnienia co najmniej pięciu kategorii rasowych oraz dwóch kategorii etnicznych.\nPodział według pochodzenia etnicznego jest niezależny od podziału na kategorie rasowe. Podczas Spisów Ludności w Stanach Zjednoczonych, respondentowi zadawane są dwa oddzielne pytania: (1) Pytanie o rasę; (2) Pytanie o pochodzenie etniczne.\n\n\n1.2.1 Kategorie rasowe\n\nWhite (Biali)\nBlack or African American (Czarni)\nAmerican Indian or Alaska Native (Rdzenni Amerykanie)\nAsian (Azjaci)\nNative Hawaiian or Other Pacific Islander (Rdzenni Hawajczycy)\n\nWięcej informacji: https://www.census.gov/topics/population/race/about.html\n\n\n1.2.2 Kategorie etniczne\nKażda z kategorii rasowych może być ponadto podzielona na 2 kategorie etniczne określające przynależność (lub nie) do grupy Latynosów. Wyróżnia się:\n\nHispanic or Latino origin\nNot Hispanic or Latino origin"
  },
  {
    "objectID": "1b_analiza_struktury_ludnosci.html#aktualne-podejścia-do-analizy-rasowo-etnicznej-struktury-ludności",
    "href": "1b_analiza_struktury_ludnosci.html#aktualne-podejścia-do-analizy-rasowo-etnicznej-struktury-ludności",
    "title": "2  Analiza rasowo-etnicznej struktury ludności",
    "section": "2.1 Aktualne podejścia do analizy rasowo-etnicznej struktury ludności",
    "text": "2.1 Aktualne podejścia do analizy rasowo-etnicznej struktury ludności\nRasowo-etniczna struktura ludności opisywana jest przez dwie koncepcje:\n\nsegregację rasowo-etniczną (ang. residential segregation), która jest koncepcją przestrzenną opisującą, w jaki sposób ludzie różnych ras i grup etnicznych są przestrzennie rozmieszczeni w analizowanym obszarze. Klasyczna definicja segregacji rasowo-etnicznej określa “stopień, w jakim dwie lub więcej grup żyją oddzielnie od siebie, w różnych częściach miasta.” (Massey i Denton, 1988)\nzróżnicowanie rasowo-etniczne (ang. racial diversity), które jest koncepcją nieprzestrzenną opisującą poziom niejednorodności rasowo-etnicznej struktury ludności w analizowanym obszarze.\n\n\nObszar o dużej segregacji rasowo-etnicznej przedstawiony jest na rysunku A. Wysokim zróżnicowanie rasowo-etniczne ilustruje przykład A i B. Na obu rysunkach znajduje się po 5 ludzików żółtych, zielonych, czerwonych oraz fioletowych. Obie koncepcje są opisywane za pomocą jednoliczbowych wskaźików obliczanych dla całego miasta na podstawie danych tabelarycznych"
  },
  {
    "objectID": "1b_analiza_struktury_ludnosci.html#miary-segregacji-oraz-zróżnicowania-rasowo-etnicznego.",
    "href": "1b_analiza_struktury_ludnosci.html#miary-segregacji-oraz-zróżnicowania-rasowo-etnicznego.",
    "title": "2  Analiza rasowo-etnicznej struktury ludności",
    "section": "2.2 Miary segregacji oraz zróżnicowania rasowo-etnicznego.",
    "text": "2.2 Miary segregacji oraz zróżnicowania rasowo-etnicznego.\nTradycyjne miary segregacji oraz zróżnicowania rasowo-etnicznego obliczane są na podstawie danych tabelarycznych przedstawiających liczbę osób wg kategorii rasowo-etnicznych. Miary te obliczane są na poziomie hrabstw lub miast."
  },
  {
    "objectID": "1b_analiza_struktury_ludnosci.html#miary-zróżnicowania-rasowo-etnicznego",
    "href": "1b_analiza_struktury_ludnosci.html#miary-zróżnicowania-rasowo-etnicznego",
    "title": "2  Analiza rasowo-etnicznej struktury ludności",
    "section": "2.3 Miary zróżnicowania rasowo-etnicznego",
    "text": "2.3 Miary zróżnicowania rasowo-etnicznego\nObliczenie miar zróżnicowania rasowo-etnicznego wymaga zsumowania danych ze wszystkich jednostek spisowych, tak aby uzyskać liczbę ludności wg grup rasowo-etnicznych w całym obszarze analizy (np. 80W, 80B, 80A, 80L).\n\n2.3.1 Entropia\nPowszechnie stosowaną miarą zróżnicowania jest entropia obliczana według wzoru:\n\\[E = -\\sum p_{k} \\log p_{k}\\]\ngdzie,\n\n\\(p_k\\) - odsetek osób w danej grupie rasowo-etnicznej zamieszkującej analizowany obszar\n\\(log\\) - logarytm użyty do obliczenia entropii; w tradycyjnym podejściu do analizy zróżnicowania rasowo-etnicznego stosuje się logarytm naturalny.\n\nObliczenia należy wykonać dla jednostek dla których liczba ludnosci jest większa od 0.\n\nMinimalna wartość entropii wynosi 0, w przypadku gdy obszar jest zamieszkały wyłącznie przez jedną grupę rasowo-etniczną.\nMaksymalna wartość entropii obliczana jest jako \\(E_{max} = log(K)\\), gdzie K to liczba grup rasowo-etnicznych. Np. przy 4 grupach maksymalna wartość entropii wyniesie 1.39, a przy 6 grupach 1.79. Wartość maksymalną otrzymujemy, przy równym odsetku wszystkich grup rasowo-etnicznych.\n\n\n2.3.2 Entropia standaryzowana\nDla celów porównawczych często stosuje się entropię standaryzowaną (\\(E_{std}\\)), która przyjmuje wartości od 0 do 1 (0 - obszar jest zamieszkiwany jest przez jedną grupę, 1 - udział poszczególnych grup jest taki sam).\nEntropia standaryzowana obliczana jest według wzoru:\n\\[E_{std} = \\frac{E}{E_{max}}\\]\ngdzie \\(E\\) - oznacza entropię, a \\(E_{max}\\) oznacza entropię maksymalną.\nEntropia obliczana jest według wzoru: \\[E = -\\sum p_{k} \\log p_{k}\\]\nEntropia maksymalna obliczana jest \\(E_{max} = log(K)\\), gdzie K to liczba grup rasowo-etnicznych.\n\n\n2.3.3 Liczba Hilla\nInnym sposobem wyrażenia zróżnicowania rasowo-etnicznego jest liczba Hilla. Liczba Hilla interpretowana jest jako liczba grup rasowo-etnicznych ze znaczącym udziałem w analizowanym obszarze.\nLiczba Hilla obliczana jest według wzoru:\n\\[N_H = a^E\\]\ngdzie,\n\n\\(a\\) - podstawa logarytmu użytego do obliczenia entropii (dla logarytmu naturalnego a = 2.718282)\n\\(E\\) - wartość entropii"
  },
  {
    "objectID": "1b_analiza_struktury_ludnosci.html#miary-segregacji-rasowo-etnicznej",
    "href": "1b_analiza_struktury_ludnosci.html#miary-segregacji-rasowo-etnicznej",
    "title": "2  Analiza rasowo-etnicznej struktury ludności",
    "section": "2.4 Miary segregacji rasowo-etnicznej",
    "text": "2.4 Miary segregacji rasowo-etnicznej\nObliczenie wskaźników segregacji rasowej wymaga podzielenia obszaru na mniejsze jednostki. Wartość wskaźnika zależy od przyjętego podziału na jednostki przestrzenne.\n\n2.4.1 Wskaźnik niepodobieństwa D\nWskaźnik niepodobieństwa D określa poziom segregacji między dwoma grupami. Wskaźnik ten mierzy względną separację lub integrację dwóch grup zamieszkujących poszczególne dzielnice miasta.\nWskaźnik D przyjmuje wartości z zakresu od 0 do 1.\n\nD = 0: dwie grupy rasowo-etniczne rozmieszczone są w tych samych proporcjach we wszystkich dzielnicach miasta; wskazuje to całkowitą integrację.\nD = 1: każda dzielnica zamieszkiwana jest tylko przez jedna grupę rasowo-etniczną; oznacza to całkowitą segregację, w której członkowie jednej grupy znajdują się w zupełnie innych dzielnicach niż członkowie drugiej grupy.\n\nWartości wskaźnika D między 0 a 0.3 określają małą segregację, 0.3 - 0.6 - średnią, a wartości powyżej 0.6 oznaczają dużą segregację.\nWskaźnik niepodobieństwa D obliczany jest według wzoru:\n\\[D = \\frac{1}{2}\\sum_{i}^{N}\\left\\lvert \\frac{a_{i}}{A} - \\frac{b_{i}}{B} \\right\\rvert\\]\n\n\\(a_{i}\\) - liczba ludności grupy 1 w jednostce spisowej \\(i\\)\n\\(A\\) - liczba ludności grupy 1 w analizowanym obszarze\n\\(b_{i}\\) - liczba ludności grupy 2 w jednostce spisowej \\(i\\)\n\\(B\\) - liczba ludności grupy 2 w analizowanym obszarze\n\n\n\n2.4.2 Wskaźnik teorii informacji H.\nWskaźnik teorii informacji H stosuje się do określenia poziomu segregacji rasowo-etnicznej z uwzględnieniem wielu grup. Wskaźnik teorii informacji H mierzy różnicę między zróżnicowaniem rasowym (entropią) całego obszaru (np. miasta), a zróżnicowaniem poszczególnych dzielnic miasta w stosunku do zróżnicowania całego miasta. Dodatkowo różnica ta jest ważona liczbą ludności zamieszkałą w danym obszarze geograficznym (Massey i Denton, 1988; White, 1986; Reardon i Firebaugh, 2002).\nWartość wskaźnika teorii informacji H mieści się w zakresie od 0 do 1.\n\nH = 0: struktura rasowo-etniczna każdej dzielnicy na które podzielono miasto, jest taka sama jak całego miasta (wtedy \\(E_i = E\\)); oznacza pełną integrację grup rasowo-etnicznych.\nH = 1: każda dzielnica zamieszkała jest tylko przez jedną grupę rasowo-etniczną; oznacza pełną segregację rasową.\n\nWskaźnik teorii informacji H obliczany jest według wzoru:\n\\[H = \\sum_{i=1}^{N}\\left [ \\frac{t_{i}(E - E_{i})}{ET} \\right ]\\]\ngdzie\n\n\\(E_{i}\\) - entropia danej jednostki spisowej i,\n\\(E\\) - entropia obliczona dla całego obszaru\n\\(t_{i}\\) - liczba ludności danej jednostki spisowej i,\n\\(T\\) - liczba ludności całego obszaru"
  },
  {
    "objectID": "1b_analiza_struktury_ludnosci.html#klasyfikacja-rasowo-etnicznej-struktury-ludności",
    "href": "1b_analiza_struktury_ludnosci.html#klasyfikacja-rasowo-etnicznej-struktury-ludności",
    "title": "2  Analiza rasowo-etnicznej struktury ludności",
    "section": "2.5 Klasyfikacja rasowo-etnicznej struktury ludności",
    "text": "2.5 Klasyfikacja rasowo-etnicznej struktury ludności\nInną formą prezentacji rasowo-etnicznej struktury ludności jest sklasyfikowanie jednostek agregacji, tak aby reprezentowały różne typy struktury rasowo-etnicznej ludności. Przykładem zastosowania klasyfikacji jest projekt Mixed Metro (https://mixedmetro.com/) dostarczający mapy typów zróżnicowania rasowo-etnicznego dla lat 1990-2020 dla obszaru Stanów Zjednoczonych.\nStosuje się różne kryteria klasyfikacji, np.:\n\nProcentowy udział poszczególnych grup rasowo-etnicznych\nEntropia oraz dominująca grupa rasowo-etniczna\n\nKlasyfikacja stosowana jest np. dla każdego obszaru spisowego w mieście. Wyniki mogą być przedstawione w postaci tabeli pokazującej procentowy udział jednostek sklasyfikowanych jako dany typ. Pozwala także przedstawić rasowo-etniczną strukturę na mapie. Nie pozwala jednak na bezpośrednie określenie poziomu segregacji rasowej.\nPrzy zastosowaniu klasyfikacji wyróżnia się typy:\n\nmało zróżnicowane - obszary zdominowane przez jedną grupę rasowo-etniczną,\nśrednio zróżnicowane - obszary zdominowane przez jedną grupę ze znaczącym udziałem innej grupy\no dużym zróżnicowaniu - obszary, w których żadna grupa nie dominuje"
  },
  {
    "objectID": "2a_dane.html#spis-ludności",
    "href": "2a_dane.html#spis-ludności",
    "title": "3  Źródło danych",
    "section": "3.1 Spis Ludności",
    "text": "3.1 Spis Ludności\n\nDane dotyczące rasowo-etnicznej struktury ludności w Stanach Zjednoczonych zbierane są w ramach Spisów Ludności, organizowanych co 10 lat (ostatni spis miał miejsce w 2020 roku)\nNajlepszym źródłem danych pochodzących ze Spisów Ludności jest projekt National Historical Geographic Information System– NHGIS http://nhgis.org\nDane Spisu Ludności USA są udostępniane w postaci danych zagregowanych do jednostek spisowych. W USA obowiązuje kilka poziomów agregacji danych.\nGranice jednostek agregacji zmieniają się między Spisami Ludności"
  },
  {
    "objectID": "2a_dane.html#poziomy-agregacji-danych",
    "href": "2a_dane.html#poziomy-agregacji-danych",
    "title": "3  Źródło danych",
    "section": "3.2 Poziomy agregacji danych",
    "text": "3.2 Poziomy agregacji danych\n\nStany (ang. states)\nHrabstwa (ang. counties)\nObszary spisowe (ang. census tracts) - najczęściej wykorzystywane jednostki agregacji danych\nGrupy bloków spisowych (ang. block groups)\nBloki spisowe (ang. blocks) - najmniejsze jednostki agregacji danych\n\n\nhttps://learn.arcgis.com/en/related-concepts/united-states-census-geography.htm"
  },
  {
    "objectID": "2a_dane.html#nhgis---national-historical-gis",
    "href": "2a_dane.html#nhgis---national-historical-gis",
    "title": "3  Źródło danych",
    "section": "3.3 NHGIS - National Historical GIS",
    "text": "3.3 NHGIS - National Historical GIS\n\nProjekt udostępniający dane ze Spisów Ludności z lat 1790-2010\nDane tabelaryczne na różnym poziomie agregacji\nDane GIS (granice jednostek spisowych)\nDane tabelaryczne oraz GIS posiadają wspólne ID ułatwiające połączenie obu źródeł danych.\nPobieranie danych wymaga utworzenia konta oraz zalogowania. Dane są udostępniane bezpłatnie."
  },
  {
    "objectID": "2b_przygotowanie_danych.html#dane",
    "href": "2b_przygotowanie_danych.html#dane",
    "title": "4  Przygotowanie danych do analizy",
    "section": "4.1 Dane",
    "text": "4.1 Dane\n\nDane zostały pobrane ze strony http://nhgis.org.\nW nieniejszym skrypcie zostaną wykorzystane dwa rodzaje danych:\n\nDane dotyczące struktury rasowo-etnicznej wybranych hrabstw zagregowane do bloków spisowych (ang. blocks) dla lat 1990, 2000, 2010, 2020 (dane_atrybutowe.zip)\nGranice obszarów spisowych (ang. census tracts) dla wybranych hrabstw dla lat 1990, 2000, 2010, 2020 (dane_przestrzenne.zip)"
  },
  {
    "objectID": "2b_przygotowanie_danych.html#dane-dotyczące-struktury-rasowo-etnicznej",
    "href": "2b_przygotowanie_danych.html#dane-dotyczące-struktury-rasowo-etnicznej",
    "title": "4  Przygotowanie danych do analizy",
    "section": "4.2 Dane dotyczące struktury rasowo-etnicznej",
    "text": "4.2 Dane dotyczące struktury rasowo-etnicznej\nDane dotyczące struktury rasowo-etnicznej wybranych hrabstw zagregowane do bloków spisowych zawierają następujące kolumny:\n\nGISJOIN - identyfikator danych na poziomie bloków spisowych, pozwalający na połączenie danych atrybutowych z danymi przestrzennymi\nGISJOIN_T - identyfikator danych na poziomie obszarów spisowych,\n\npole GISJOIN_T będzie wykorzystane do zagregowania danych z bloków spisowych do obszarów spisowych;\npole GISJOIN_T pozwala na połączenie danych atrybutowych z danymi przestrzennymi na poziomie obszarów spisowych.\n\n\nCOUNTY_CODE - kod hrabstwa składający się z dwóch elementów - kodu stanu oraz kodu hrabstwa.\n\nPozwala na identyfikację hrabstw w Stanach Zjednoczonych.\nKod zostanie użyty do wyselekcjonowania danych dla wybranego hrabstwa.\n\nSTATEA - kod stanu\nCOUNTYA - kod hrabstwa\nTRACTA - kod obszaru spisowego\nBLOCKA - kod bloku\nzestaw kolumn zawierający dane dotyczące rasowo-etnicznej struktury ludności."
  },
  {
    "objectID": "2b_przygotowanie_danych.html#granice-obszarów-spisowych",
    "href": "2b_przygotowanie_danych.html#granice-obszarów-spisowych",
    "title": "4  Przygotowanie danych do analizy",
    "section": "4.3 Granice obszarów spisowych",
    "text": "4.3 Granice obszarów spisowych\nDane zawierają m.in pola:\n\nGISJOIN - identyfikator danych na poziomie obszarów spisowych, pozwala na połączenie danych atrybutowych z danymi przestrzennymi na poziomie obszarów spisowych.\n\nUwaga! Aby połączyć dane atrybutowe dla obszarów spisowych z danymi przestrzennymi należy użyć pola GISJOIN_T z plików tekstowych oraz pola GISJOIN w danych przestrzennych.\n\nCNT_CODE - kod hrabstwa składający się z dwóch elementów - kodu stanu oraz kodu hrabstwa.\n\nPozwala na identyfikację hrabstw w Stanach Zjednoczonych.\nKod zostanie użyty do wyselekcjonowania danych dla wybranego hrabstwa. W danych w plikach tekstowych kod ten zapisany jest w kolumnie COUNTY_CODE."
  },
  {
    "objectID": "2b_przygotowanie_danych.html#kategorie-rasowo-etniczne-w-spisach-ludności",
    "href": "2b_przygotowanie_danych.html#kategorie-rasowo-etniczne-w-spisach-ludności",
    "title": "4  Przygotowanie danych do analizy",
    "section": "4.4 Kategorie rasowo-etniczne w Spisach Ludności",
    "text": "4.4 Kategorie rasowo-etniczne w Spisach Ludności\nPodział na kategorie rasowo-etniczne zmieniał się między Spisami Ludności. W ćwiczeniach będziemy wykorzystywać podział na 6 grup:\n\nOsoby nie wykazujące pochodzenia Latynowskiego (Not Hispanic or Latino) w podziale na grupy rasowe:\n\n\nBiali,\n\n\nCzarni,\n\n\nAzjaci,\n\n\nRdzenni Amerykanie,\n\n\nPozostali (tj. osoby, które wskazały przynależność do więcej niż jednej grupy rasowo-etnicznej)\n\n\n\nLatynosi (bez względu na grupę rasową)\n\n\n\n\nRok 1990\n\n\n\n\n\nKod\nKategoria\n\n\n\n\nET2001\nNot Hispanic origin : White\n\n\nET2002\nNot Hispanic origin: Blacks\n\n\nET2003\nNot Hispanic origin: American Indian, Eskimo, or Aleut\n\n\nET2004\nNot Hispanic origin: Asian alone or Pacific Islander\n\n\nET2005\nNot Hispanic origin: Other race\n\n\nET2006\nHispanic origin : White\n\n\nET2007\nHispanic origin : Blacks\n\n\nET2008\nHispanic origin : American Indian, Eskimo, or Aleut\n\n\nET2009\nHispanic origin : Asian alone or Pacific Islander\n\n\nET2010\nHispanic origin : Other race\n\n\n\n\n\n\n\n\n\nRok 2000\n\n\n\n\n\nKod\nKategoria\n\n\n\n\nFYF001\nNot Hispanic or Latino : White alone\n\n\nFYF002\nNot Hispanic or Latino : Black or African American alone\n\n\nFYF003\nNot Hispanic or Latino : American Indian and Alaska Native alone\n\n\nFYF004\nNot Hispanic or Latino : Asian alone\n\n\nFYF005\nNot Hispanic or Latino : Native Hawaiian and Other Pacific Islander alone\n\n\nFYF006\nNot Hispanic or Latino : Some other race alone\n\n\nFYF007\nNot Hispanic or Latino : Two or more races\n\n\nFYF008\nHispanic or Latino : White alone\n\n\nFYF009\nHispanic or Latino : Black or African American alone\n\n\nFYF010\nHispanic or Latino : American Indian and Alaska Native alone\n\n\nFYF011\nHispanic or Latino : Asian alone\n\n\nFYF012\nHispanic or Latino : Native Hawaiian and Other Pacific Islander alone\n\n\nFYF013\nHispanic or Latino : Some other race alone\n\n\nFYF014\nHispanic or Latino : Two or more races\n\n\n\n\n\n\n\n\n\nRok 2010\n\n\n\n\n\nKod\nKategoria\n\n\n\n\nH7Z001\nTotal population\n\n\nH7Z002\nNot Hispanic or Latino\n\n\nH7Z003\nNot Hispanic or Latino : White alone\n\n\nH7Z004\nNot Hispanic or Latino : Black or African American alone\n\n\nH7Z005\nNot Hispanic or Latino : American Indian and Alaska Native alone\n\n\nH7Z006\nNot Hispanic or Latino : Asian alone\n\n\nH7Z007\nNot Hispanic or Latino : Native Hawaiian and Other Pacific Islander alone\n\n\nH7Z008\nNot Hispanic or Latino : Some other race alone\n\n\nH7Z009\nNot Hispanic or Latino : Two or more races\n\n\nH7Z010\nHispanic or Latino\n\n\n\n\n\n\n\n\n\nRok 2020\n\n\n\n\n\nKod\nKategoria\n\n\n\n\nU7C001\nTotal population\n\n\nU7C002\nHispanic or Latino\n\n\nU7C005\nNot Hispanic or Latino: White alone\n\n\nU7C006\nNot Hispanic or Latino: Black or African American alone\n\n\nU7C007\nNot Hispanic or Latino: American Indian and Alaska Native alone\n\n\nU7C008\nNot Hispanic or Latino: Asian alone\n\n\nU7C009\nNot Hispanic or Latino: Native Hawaiian and Other Pacific Islander alone\n\n\nU7C010\nNot Hispanic or Latino: Some other race alone\n\n\nU7C011\nNot Hispanic or Latino: Two or more races"
  },
  {
    "objectID": "2b_przygotowanie_danych.html#przygotowanie-danych-do-analizy",
    "href": "2b_przygotowanie_danych.html#przygotowanie-danych-do-analizy",
    "title": "4  Przygotowanie danych do analizy",
    "section": "4.5 Przygotowanie danych do analizy",
    "text": "4.5 Przygotowanie danych do analizy\nPrzygotowanie danych do analizy składa się z 5 etapów:\n\nEtap 1: Wyselekcjonowanie danych atrybutowych o strukturze ludności dla wybranego hrabstwa.\n\nDane atrybutowe zapisane są w 4 plikach csv: blocks1990.csv, blocks2000.csv, blocks2010.csv, blocks2020.csv\nZ pliku dla danego roku należy wybrać dane dla wybranego hrabstwa. Selekcję należy wykonać posługując się kodem hrabstwa zapisanym w polu COUNTY_CODE\n\nEtap 2: Agregacja kategorii rasowo-etnicznych.\n\nPodział na kategorie rasowo-etniczne zmieniał się między Spisami Ludności. W ćwiczeniach będziemy wykorzystywać podział na 6 grup:\n\nOsoby nie wykazujące pochodzenia Latynowskiego (Not Hispanic or Latino) w podziale na grupy rasowe: Biali, Czarni, Azjaci, Rdzenni Amerykanie, Pozostali (tj. osoby, które wskazały przynależność do więcej niż jednej grupy rasowo-etnicznej)\nLatynosi (bez względu na grupę rasową)\n\nW tabelach w sekcji Kategorie rasowo-etniczne w Spisach Ludności zestawione zostały pola, które należy zaagregować.\nPlik po agregacji powinien zawierać kolumny: GISJOIN, GISJOIN_T, oraz zaagregowane kategorie rasowo-etniczne: WHITE, BLACK, ASIAN, AM, OTHER, HISPANIC\nPlik ze zagregowanymi kategoriami rasowo-etnicznymi należy zapisac jako [nazwa_hrabstwa]_[year]_blocks_attr.csv\n\nEtap 3: Agregacja danych z bloków spisowych do obszarów spisowych (census tract).\n\nW wyniku tego etapu dane na poziomie bloków spisowych zapisane w pliku [nazwa_hrabstwa]_[year]_blocks_attr.csv zostaną zaagregowane do obszarów spisowych (ang. census tract, większe jednostki spisowe)\nIdentyfikator obszarów spisowych znajduje się w polu GISJOIN_T. Należy zatem użyć pola GISJOIN_T, aby dane z bloków zaagregować do obszarów spisowych.\nZaagregowane dane należy zapisać w pliku [nazwa_hrabstwa]_[year]_tracts_attr.csv\n\nEtap 4: Wyselekcjonowanie danych przestrzennych dla wybranego hrabstwa.\n\nGranice obszarów spisowych dla lat 1990, 2000, 2010, 2020 zostały zapisane w pliku tracts_[year].gpkg\nZ pliku dla danego roku należy wybrać dane dla wybranego hrabstwa. Selekcję należy wykonać posługując się kodem hrabstwa zapisanym w polu CNT_CODE\nWyselekcjonowane dane należy zapisać w geopaczce [nazwa_hrabstwa]_tracts.gpkg, nazwa warstwy tracts[year].\n\nUwaga! Na tym etapie należy utworzyć jedną geopaczkę dla hrabstwa zawierającą granice dla 4 lat.\n\n\nEtap 5: Połączenie danych atrybutowych i przestrzennych.\n\nW tym etapie należy do granic obszarów spisowych (wynik wykonania etapu 4) dołączyć dane o strukturze ludności w obszarach spisowych (wynik wykonania etapu 3)\nW pliku [nazwa_hrabstwa]tracts[year]_attr.csv identyfikator obszaru spisowego znajduje się w polu GISJOIN_T. W danych przestrzennych ([nazwa_hrabstwa].gpkg, nazwa warstwy tracts[year]) identyfikator obszaru spisowego znajduje się w polu GISJOIN.\npołączone dane należy zapisać w geopaczce [nazwa_hrabstwa]_tracts_attr.gpkg, nazwa warstwy tracts_attr[year]\n\nUwaga! Dane dla 4 lat należy zapisać w tej samej geopaczce."
  },
  {
    "objectID": "2b_przygotowanie_danych.html#pliki-wynikowe",
    "href": "2b_przygotowanie_danych.html#pliki-wynikowe",
    "title": "4  Przygotowanie danych do analizy",
    "section": "4.6 Pliki wynikowe",
    "text": "4.6 Pliki wynikowe\nPodsumowując, w wyniku przygotowania danych należy zachować 4 pliki zapisane w dwóch folderach:\n\nfolder data_attr\n\n[nazwa_hrabstwa]blocks[year]_attr.csv - zawierający dane o strukturze ludności na poziomie bloków spisowych\n[nazwa_hrabstwa]tracts[year]_attr.csv - zawierający dane o strukturze ludności na poziomie obszarów spisowych (census tracts)\n\nfolder data_geo\n\n[nazwa_hrabstwa]_tracts.gpkg - zawierającą warstwy tracts[year] z granicami obszarów spisowych\n[nazwa_hrabstwa]_tracts_attr.gpkg - zawierającą warstwy tracts_attr[year] z granicami obszarów spisowych z dołączoną informacją o rasowo-etnicznej strukturze ludności."
  },
  {
    "objectID": "2c_areal.html#przykład",
    "href": "2c_areal.html#przykład",
    "title": "5  Metoda powierzchniowo-wagowa",
    "section": "5.1 Przykład",
    "text": "5.1 Przykład\n\nW roku X obszar został podzielony na 4 równe jednostki (S1-S4), każda zamieszkała przez 80 osób. W roku Y dla tego samego obszaru wprowadzono podział na 4 inne jednostki (T1-T4). Oblicz na podstawie danych z roku X, ile osób mieszka w jednostkach T1-T4?\n\nEtap 1. Przecięcie granic jednostek źródłowych oraz jednostek docelowych\n\n\n\nEtap 2. Obliczenie wagi dla każdej jednostki powstałej z przecięcia granic jednostek źródłowych oraz jednostek docelowych\nW drugim etapie obliczane są wagi dla każdego poligonu powstałego z przecięcia granic jednostek źródłowych oraz jednostek docelowych. Wagi dla każdego przecięcia obliczane są według wzoru: \\[W_i = \\frac{A_i}{A_j}\\]\ngdzie\n\n\\(W_i\\) - waga “powierzchniowa” przypisana do każdego poligonu \\(i\\) powstałego z przecięcia granic źródłowych oraz docelowych;\n\\(A_i\\) - powierzchnia poligonu \\(i\\) powstałego z przecięcia granic źródłowych oraz docelowych;\n\\(A_j\\) - ogólna powierzchnia jednostki docelowej \\(j\\) do której należy poligon \\(i\\).\n\n\n\n\nEtap 3. Przypisanie liczby ludności do każdej jednostki powstałej z przecięcia granic jednostek źródłowych oraz jednostek docelowych.\n\\[E_i = V_j \\times W_i\\] gdzie\n\n\\(E_i\\) - szacowana liczba osób dla każdego poligonu \\(i\\) powstałego z przecięcia;\n\\(W_i\\) - waga “powierzchniowa” przypisana do każdego poligonu \\(i\\) powstałego z przecięcia granic źródłowych oraz docelowych;\n\\(V_j\\) - liczba osób w jednostce źródłowej \\(j\\)\n\n\n\n\nEtap 4. Zsumowanie liczby ludności z jednostek “z przecięcia” do granic jednostek docelowych\n\\[G_k = \\sum E_{ik}\\] gdzie\n\n\\(G_k\\) - suma wszystkich szacowanych wartości\n\\(E_i\\) - wchodzących w skład jednostki docelowej \\(k\\);\n\n\\(E_{ik}\\) - szacowane wartości ze wszystkich poligonów \\(i\\) wchodzących w skład jednostki docelowej \\(k\\)"
  },
  {
    "objectID": "3a_formy_prezentacji.html#dobór-wizualizacji-do-formy-prezentacji",
    "href": "3a_formy_prezentacji.html#dobór-wizualizacji-do-formy-prezentacji",
    "title": "6  Formy prezentacji wyników badań",
    "section": "6.1 Dobór wizualizacji do formy prezentacji",
    "text": "6.1 Dobór wizualizacji do formy prezentacji\nWizualizacja (wykresy, mapy) powinny być tworzone z myślą o formie prezentacji. Poster, prezentacja multimedialna, czy pisemny raport wymagać będą inaczej przygotowanych ilustracji.\nPoniższe ilustracje pochodzą z książki Designing Better Maps: A Guide for GIS Users Cynthi A. Brewer i pokazują tą samą mapę przygotowaną do 3 różnych form prezentacji. \n\n6.1.1 Prezentacja multimedialna na rzutniku\n\nCzynniki wpływające na czytelność\n\nJakość rzutnika\nOświetlenie w pomieszczeniu\nOdległość\nKrótki czas na zapoznanie się z ilustracją na slajdzie\n\nPrzygotowanie ilustracji\n\nUwzględnienie znacznie różniących się kolorów\nOdpowiednio dużo czcionka\nMniejsza szczegółowość\n\n\n\n\n6.1.2 Pisemny raport\n\nCzynniki wpływające na czytelność\n\nCzy raport będzie czytany na monitorze, czy drukowany?\n\nPrzygotowanie ilustracji wyświetlanej na ekranie komputera\n\nIlustracja może mieć kolory, które mocno się nie różnią\nIlustracja może zawierać więcej szczegółów\n\nPrzygotowanie ilustracji do drukowanego raportu (na czarno-biało)\n\nKolorowa ilustracja musi na tyle różniące się kolory, aby były nadal rozróżnialne po wydrukowaniu raportu na czarno-białej drukarce\nNajlepszym rozwiązaniem jest uwzględnienie ilustracji w skali szarości\nMniej szczegółów\n\n\n\n\n6.1.3 Poster\n\nCzynniki wpływające na czytelność\n\nJakość wydruku: poster drukowany jest w formacie A1, A0 lub większym\nOdległość\n\nPrzygotowanie ilustracji\n\nOdpowiednio duża czcionka widoczna z odległości 1,5 m\nWysoka rozdzielczość ilustracji\nMniej szczegółów niż na ilustracji załączonej do pisemnego raportu czytanego na ekranie komputera"
  },
  {
    "objectID": "3b_poster.html#forma-prezentacji",
    "href": "3b_poster.html#forma-prezentacji",
    "title": "7  Poster naukowy",
    "section": "7.1 Forma prezentacji",
    "text": "7.1 Forma prezentacji\nPoster to graficzna forma prezentacji wyników.\n\nIstotą posteru jest przekazanie informacji za pomocą obrazów\nTekst na posterze ogranicza się do minimum i zastępuje się go schematami, diagramami, wykresami, albo tabelami\nWizualizacje powinny być wykorzystywane do przyciągnięcia uwagi grupy ludzi.\nOgraniczona liczba słów i dobra grafika"
  },
  {
    "objectID": "3b_poster.html#projektowanie-posteru---jak-zacząć",
    "href": "3b_poster.html#projektowanie-posteru---jak-zacząć",
    "title": "7  Poster naukowy",
    "section": "7.2 Projektowanie posteru - jak zacząć?",
    "text": "7.2 Projektowanie posteru - jak zacząć?\n\nJakie jest najważniejsze/ najciekawsze / najbardziej zadziwiające odkrycie w moim projekcie badawczym?\nJak mogę wizualnie udostępnić moje badania innym uczestnikom (np. konferencji)? Czy powinnam używać wykresów, rysunków, fotografii, schematów?\nJakie informacje mogę przekazać podczas krótkiego, 5 minutowego omówienia posteru?"
  },
  {
    "objectID": "3b_poster.html#postery-naukowe---przykłady",
    "href": "3b_poster.html#postery-naukowe---przykłady",
    "title": "7  Poster naukowy",
    "section": "7.3 Postery naukowe - przykłady",
    "text": "7.3 Postery naukowe - przykłady"
  },
  {
    "objectID": "3b_poster.html#jak-wygląda-poster",
    "href": "3b_poster.html#jak-wygląda-poster",
    "title": "7  Poster naukowy",
    "section": "7.4 Jak wygląda poster?",
    "text": "7.4 Jak wygląda poster?\n\n7.4.1 Projektowanie posteru:\n\nhttps://www.posternerd.com/tutorials/poster-design-layout\nhttps://www.posternerd.com/tutorials\n\n\n\n7.4.2 Struktura i układ posteru\n\nPoster jest zazwyczaj wykonywane w formacie A1 lub A0 - poziomy lub pionowy\nUkład i przemyślana struktura jest bardzo ważna\n\nWażne jest przemyślane rozmieszczenie bloków tekstu i grafik, odpowiednie, umiejscowienie tytułu. Nie zapominaj także o autorach posteru.\nProponowana struktura: 20% tekstu, 20% ilustracji, 40% białych przestrzeni\n\nPoster naukowy zawiera: tytuł i autorów, wstęp, cel badań, metody, wyniki i wnioski.\n\nTytuł: krótki, angażujący, wzbudzający zainteresowanie, widoczny z odległości 3-4m\nAutorzy: uwzględnienie imienia, nazwiska oraz afiliacji autora (zazwyczaj zaraz pod tytułem, nieco mniejszą czcionką)\nWstęp: zwięzły, ale równocześnie dobrze wyjaśniający cel badań\nMetodyka: przedstawiona zazwyczaj w sposób skrótowy\nOpis wyników jest zwykle ilustrowany oraz wyposażony w schematy.\nWnioski: prezentowane schematycznie, na przykład wypunktowane.\n\n\n\n\n\n7.4.3 Tekst\n\nIle tekstu powinno być na postrze? - Niewiele (im mniej tym lepiej).\nTekst nie powinien przekraczać 1000 słów (tj. 1,5 strony A4).\n\n1000 słów zapewni wystarczające wyjaśnienie tematu, i zostawi odpowiednio dużo miejsca na grafiki.\n\nBloki “litego” tekstu nie powinny być zbyt szerokie i zbyt duże.\n\nZachowaj prostotę i wyeliminuj wszelkie informacje, które nie są konieczne.\nUnikaj pisania w akapitach, używaj wypunktowań.\n\n\n\n7.4.4 Ilustracje i grafiki\n\nIlustracje, mapy są konieczne.\nIlustracje, grafiki i tabele to elementy, które najbardziej przykuwają wzrok. Elementy te powinny być jasne i zrozumiałe dla każdego, ważne są tytuły (nad nimi) i źródła (pod nimi).\nZamiast tabel, zazwyczaj lepszym wyborem są wykresy\nZdjęcia dobrze wyglądają w obramowaniu, natomiast wykresy już nie\n\nPoster to graficzna prezentacja wyników badań. Ilustracje, grafiki, wykresy, mapy:\n\npowinny być odpowiednio duże i czytelne (tj. wyraźnie widoczne z odległości min. 1m)\npowinny być proste i nieskomplikowane\npowinny wyjaśniać złożony tekst\n\n\n\n7.4.5 Czcionka\n\nCzcionka musi być prosta i odpowiednio duża - poster ma być czytelny także z daleka.\n\nw tekście głównym powinno się używać czcionki szeryfowej - jest ona łatwiejsza do odczytania po wydruku\nnie używać zbyt wielu krojów i wielkości czcionek\n\nKrój i wielkość czcionki powinna być widoczna z odległości 1,5-2 m:\n\nTekst główny: czcionka nie mniejsza niż 18-28 pkt,\nTytuł: 70-140 pkt (powinien być widoczny z odległości 3-4m)\nNagłówki 36-60 pkt\nCzcionka na rycinach: przynajmniej 14-16 pkt\n\n\n\n\n7.4.6 Kolory\n\nKolor jest elementem przyciągającym uwagę czytelnika.\nKolor ma zwiększać czytelność tekstu.\nWybieraj jasne, gładkie i neutralne kolory tła. Ciemne tło nie jest najlepszym rozwiązaniem\nJasne tło powoduje, że tekst jest bardziej widoczny.\nTekst główny powinien być czarny. Nagłówki mogą być w innym kolorze.\n\n\n\n7.4.7 Język\n\nprosty i pozbawiony błędów\n\nNależy zadbać o poprawność językową (ortografia, interpunkcja, stylistyka)"
  },
  {
    "objectID": "3b_poster.html#druk-posteru",
    "href": "3b_poster.html#druk-posteru",
    "title": "7  Poster naukowy",
    "section": "7.5 Druk posteru",
    "text": "7.5 Druk posteru\nPrzed wykonaniem ostatecznego wydruku:\n\nwydrukuj kopię A4 przed wydrukowaniem końcowego posteru\nsprawdzić poster pod względem merytorycznym:\n\nczy zostały uwzględnione wszystkie najważniejsze zagadnienia?\nczy ryciny są właściwie opisane?\nczy poster został prawidłowo skomponowany?\n\ndokładnie sprawdź poster pod kątem błędów, nietypowych symboli, czcionek\n\nczy w tekście nie ma błędów stylistycznych, ortograficznych, czy tzw. literówek"
  },
  {
    "objectID": "3b_poster.html#dobry-poster-czyli-jaki",
    "href": "3b_poster.html#dobry-poster-czyli-jaki",
    "title": "7  Poster naukowy",
    "section": "7.6 Dobry poster, czyli jaki?",
    "text": "7.6 Dobry poster, czyli jaki?\n\nWażne informacje powinny być czytelne z odległości 2-3 metrów.\nTytuł jest krótki i wzbudza zainteresowanie\nPrzewaga ilustracji nad tekstem.\nTekst przejrzysty, na temat – 300-800 słów, nie więcej niż 1000 słów (1,5 strony A4).\nUżycie wypunktowania, numeracji i nagłówków ułatwia czytanie\nEfektywne wykorzystanie grafiki, kolorów i czcionek\nSpójny i czysty układ\nJak wygląda dobry i zły poster? https://guides.nyu.edu/posters"
  },
  {
    "objectID": "3b_poster.html#najczęstsze-błędy",
    "href": "3b_poster.html#najczęstsze-błędy",
    "title": "7  Poster naukowy",
    "section": "7.7 Najczęstsze błędy",
    "text": "7.7 Najczęstsze błędy\n\nza wiele informacji\nza dużo detali na wykresach, mapach, ilustracjach\nza dużo tekstu\nza małe marginesy dla tekstu\nzbyt grube ramki wokół tekstu\nza długi tytuł\nza mała czcionka\nnieodpowiednie marginesy: za mało przestrzeni między tektem a grafikami"
  },
  {
    "objectID": "3c_prezentacja.html#struktura-prezentacji",
    "href": "3c_prezentacja.html#struktura-prezentacji",
    "title": "8  Prezentacja multimedialna",
    "section": "8.1 Struktura prezentacji",
    "text": "8.1 Struktura prezentacji\nPrezentacja multimedialna powinna składać się z następujących części:\n\nSlajd tytułowy (Tytuł + Autor)\nWprowadzenie do tematyki - o czym będzie prezentacja\nCel badań\nDane i metody\nWyniki\nPodsumowanie i wnioski"
  },
  {
    "objectID": "3c_prezentacja.html#o-czym-pamiętać-przygotowując-prezentację",
    "href": "3c_prezentacja.html#o-czym-pamiętać-przygotowując-prezentację",
    "title": "8  Prezentacja multimedialna",
    "section": "8.2 O czym pamiętać przygotowując prezentację?",
    "text": "8.2 O czym pamiętać przygotowując prezentację?\n\n„It’s quite simple: a PowerPoint presentation should have ten slides, last no more than twenty minutes, and contain no font smaller than thirty points.” Guy Kawasaki\n\n\nDobór materiału do prezentacji\n\nprzed przystąpieniem do przygotowania prezentacji należy przemysleć, co chce się powiedzieć i jak to zrobić w sposób, który przyciągnie uwagę\nprezentacje przejrzyste, angażujące i dobrze przygotowane pod kątem wizualnym zostaną lepiej zapamiętane\n\nIlość informacji i tekstu w prezentacji\n\nPrezentacja powinna zawierać najważniejsze punkty i hasła-klucze; wnioski powinny być sformułowane jako równoważniki zdań.\n\nWizualizacja treści\n\nwykorzystanie infografik, ilustracji, wykresów, które w prosty sposób przekazują informację\nwykres jest lepszy niż tabela\n\nProstota i czytelność\n\nKrótkie nagłówki - zastosowanie zwięzłych nagłówków, które jasno komunikują treść slajdu\nSpójna grafika - zastosowanie jednego stylu graficznego: jednolita kolorystyka, spójna czcionka.\nWielkość czcionki - należy zadbać o odpowiednio dużą czcionkę\nKolory - należy zadbać o odpowiedni kontrast i unikac połączeń o niskim kontraście (zółte napisy na białym tle)\n\nPrezentacja multimedialna jest uzupełnieniem wypowiedzi.\n\nnie wszystko o czym mówimy musi być umieszczone na slajdzie\nnależy unikać przeciążania slajdów tekstem lub grafikami.\nIm mniej tekstu w prezentacji tym lepiej"
  },
  {
    "objectID": "4_analiza_w_r.html",
    "href": "4_analiza_w_r.html",
    "title": "ANALIZA W R",
    "section": "",
    "text": "Niniejsza część przedstawia proces wykonania w R analizy zróżnicowania przestrzennego oraz zmienności czasowej rasowo-etnicznej struktury ludności na przykładzie danych dla Districtu of Columbia dla lat 1990 i 2020.\nW każdym rozdziale (rozdziały 9 - 14) zamieszczono szczegółowe wyjaśnienie poszczególnych zagadnień oraz kod R potrzebny do wykonania analiz i wizualizacji. Kod ten można wykorzystać przy wykonywaniu samodzielnych ćwiczeń zawartych w części ĆWICZENIA.\nW części Analiza w R  uwzględniono:\n\nprzygotowanie danych do analizy (rozdział 9)\nwykorzystanie tradycyjnych miar segregacji oraz zróżnicowania rasowo-etnicznego do analizy rasowo-etnicznej struktury ludności (rozdział 10)\nanalizę i wizualizację rasowo-etnicznej struktury ludności na poziomie obszarów spisowych obejmującą przestrzenny rozkład grup rasowo-etnicznych, miar zróżnicowania oraz segregacji rasowo-etnicznej (rozdział 11, rozdział 12)\nanalizę zmian typów struktury rasowo-etnicznej ludności (rozdział 13)\nzastosowanie metod analizy krajobrazowej w analizie rasowo-etnicznej struktury ludności. (rozdział 14)"
  },
  {
    "objectID": "4a_przygotowanie_danych.html#przygotowanie-danych-dla-1990-roku",
    "href": "4a_przygotowanie_danych.html#przygotowanie-danych-dla-1990-roku",
    "title": "9  Przygotowanie danych",
    "section": "9.1 Przygotowanie danych dla 1990 roku",
    "text": "9.1 Przygotowanie danych dla 1990 roku\n\nEtap 1: Wyselekcjonowanie danych atrybutowych o strukturze ludności dla wybranego hrabstwa.\n\ndane_attr = read.csv(\"data/dane_atrybutowe/blocks1990.csv\")\n\n\ncounty_attr = dane_attr[dane_attr$COUNTY_CODE == '11001',]\n\n\n\nEtap 2: Agregacja kategorii rasowo-etnicznych\n\nlibrary(dplyr)\ncounty_blocks_race = county_attr %&gt;% \n  mutate(GISJOIN = GISJOIN,\n         GISJOIN_T = GISJOIN_T,\n         WHITE = ET2001,\n         BLACK = ET2002,\n         AM = ET2003,\n         ASIAN = ET2004,\n         OTHER = ET2005,\n         HISPANIC = ET2006 + ET2007 + ET2008 + ET2009 + ET2010,\n         .keep = \"none\")\n\n\nlist_race = c(\"WHITE\", \"BLACK\", \"ASIAN\", \"HISPANIC\", \"AM\", \"OTHER\")\ncounty_blocks_race$POP = apply(county_blocks_race[, list_race], 1, sum, na.rm = TRUE)\n\n\nwrite.csv(county_blocks_race, \"data/data_attr/dc_blocks_1990_attr.csv\", row.names = FALSE)\n\n\n\nEtap 3: Agregacja danych z bloków spisowych do obszarów spisowych (census tract).\n\ncounty_tracts_race = county_blocks_race[, -1] %&gt;% \n  group_by(GISJOIN_T) %&gt;% \n  summarise_all(.funs = \"sum\", na.rm = TRUE)\n\n\nwrite.csv(county_tracts_race, \"data/data_attr/dc_tracts_1990_attr.csv\", row.names = FALSE)\n\n\n\nEtap 4: Wyselekcjonowanie danych przestrzennych dla wybranego hrabstwa.\n\nlibrary(sf)\ndane_geo = st_read(\"data/dane_przestrzenne/tracts1990.gpkg\")\n\nReading layer `tracts1990' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/dane_przestrzenne/tracts1990.gpkg' \n  using driver `GPKG'\nSimple feature collection with 192 features and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610795 ymin: 1915125 xmax: 1629412 ymax: 1936100\nProjected CRS: NAD83 / Conus Albers\n\n\n\ncounty_geo = dane_geo[dane_geo$CNT_CODE == '11001',]\n\n\nst_write(county_geo, \"data/data_geo/dc_tracts.gpkg\", layer = \"tract_1990\")\n\n\n\nEtap 5: Połączenie danych atrybutowych i przestrzennych.\n\ncounty_geo_attr = left_join(county_geo, county_tracts_race, by = c(\"GISJOIN\" = \"GISJOIN_T\"))\n\n\nst_write(county_geo_attr, \"data/data_geo/dc_tracts_attr.gpkg\", layer = \"tract_attr_1990\")"
  },
  {
    "objectID": "4a_przygotowanie_danych.html#prrzygotowanie-danych-dla-2020-roku",
    "href": "4a_przygotowanie_danych.html#prrzygotowanie-danych-dla-2020-roku",
    "title": "9  Przygotowanie danych",
    "section": "9.2 Prrzygotowanie danych dla 2020 roku",
    "text": "9.2 Prrzygotowanie danych dla 2020 roku\n\nEtap 1: Wyselekcjonowanie danych atrybutowych o strukturze ludności dla wybranego hrabstwa.\n\ndane_attr = read.csv(\"data/dane_atrybutowe/blocks2020.csv\")\n\n\ncounty_attr = dane_attr[dane_attr$COUNTY_CODE == '11001',]\n\n\n\nEtap 2: Agregacja kategorii rasowo-etnicznych.\n\nlibrary(dplyr)\ncounty_blocks_race = county_attr %&gt;% \n  mutate(GISJOIN = GISJOIN,\n         GISJOIN_T = GISJOIN_T,\n         WHITE = U7C005,\n         BLACK = U7C006,\n         AM = U7C007,\n         ASIAN = U7C008 + U7C009,\n         OTHER = U7C010 + U7C011,\n         HISPANIC = U7C002,\n         .keep = \"none\")\n\n\nlist_race = c(\"WHITE\", \"BLACK\", \"ASIAN\", \"HISPANIC\", \"AM\", \"OTHER\")\ncounty_blocks_race$POP = apply(county_blocks_race[, list_race], 1, sum, na.rm = TRUE)\n\n\nwrite.csv(county_blocks_race, \"data/data_attr/dc_blocks_2020_attr.csv\", row.names = FALSE)\n\n\n\nEtap 3: Agregacja danych z bloków spisowych do obszarów spisowych (census tract).\n\ncounty_tracts_race = county_blocks_race[, -1] %&gt;% \n  group_by(GISJOIN_T) %&gt;% \n  summarise_all(.funs = \"sum\", na.rm = TRUE)\n\n\nwrite.csv(county_tracts_race, \"data/data_attr/dc_tracts_2020_attr.csv\", row.names = FALSE)\n\n\n\nEtap 4: Wyselekcjonowanie danych przestrzennych dla wybranego hrabstwa.\n\nlibrary(sf)\ndane_geo = st_read(\"data/dane_przestrzenne/tracts2020.gpkg\")\n\nReading layer `tracts2020' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/dane_przestrzenne/tracts2020.gpkg' \n  using driver `GPKG'\nSimple feature collection with 206 features and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610830 ymin: 1915291 xmax: 1629412 ymax: 1936182\nProjected CRS: NAD83 / Conus Albers\n\n\n\ncounty_geo = dane_geo[dane_geo$CNT_CODE == '11001',]\n\n\nst_write(county_geo, \"data/data_geo/dc_tracts.gpkg\", layer = \"tract_2020\")\n\n\n\nEtap 5: Połączenie danych atrybutowych i przestrzennych.\n\ncounty_geo_attr = left_join(county_geo, county_tracts_race, by = c(\"GISJOIN\" = \"GISJOIN_T\"))\n\n\nst_write(county_geo_attr, \"data/data_geo/dc_tracts_attr.gpkg\", layer = \"tract_attr_2020\", append = TRUE)\n\n\nProszę przygotować dane dla lat 2000, 2010."
  },
  {
    "objectID": "4b_miary_segregacji_hrabstwo.html#wprowadzenie",
    "href": "4b_miary_segregacji_hrabstwo.html#wprowadzenie",
    "title": "10  Miary zróżnicowania i segregacji",
    "section": "10.1 Wprowadzenie",
    "text": "10.1 Wprowadzenie\nObliczenie miar segregacji rasowej wymaga podziału obszaru na mniejsze jednostki spisowe.\n\n\n\nRycina 1. Zróżnicowanie oraz segregacja rasowa w analizowanym obszarze (np. dla całego miasta)"
  },
  {
    "objectID": "4b_miary_segregacji_hrabstwo.html#miary-segregacji-i-zróżnicowania-w-r",
    "href": "4b_miary_segregacji_hrabstwo.html#miary-segregacji-i-zróżnicowania-w-r",
    "title": "10  Miary zróżnicowania i segregacji",
    "section": "10.2 Miary segregacji i zróżnicowania w R",
    "text": "10.2 Miary segregacji i zróżnicowania w R\nPrzed przystąpieniem do obliczeń należy wywołać wszystkie poniższe funkcje.\n\n\nPokaż kod funkcji\n########## Funkcja obliczająca entropię \n\n#proportions - wektor zawierający odsetek poszczególnych ras w ogólnej liczbie ludności (wartości od 0 do 1)\n#base - podstawa logarytmu, domyslnie exp(1) oznacza obliczenie logarytmu naturalnego \nentropy_fnc = function(proportions, base = exp(1)) {\n  entr = -sum(ifelse(proportions &gt; 0, proportions * log(proportions, base = base), 0))\n  return(entr)\n}\n\n##########  Funkcja obliczająca standaryzowaną entropię\nentropy_std_fnc = function(proportions, base = exp(1)) {\n  entr = -sum(ifelse(proportions &gt; 0, proportions * log(proportions, base = base), 0)) #obliczenie entropii\n  entr_std = entr/log(length(proportions), base = base) #standaryzacja\n  return(entr_std)\n}\n\n########## Funkcja obliczająca wskaźnik teorii informacji H \nhindex &lt;- function(races) {\n#races_all to liczba osob w calym obszarze w podziale na grupy rasowo-etniczne\nraces_all = apply(races, 2, sum, na.rm=TRUE)\n\n#liczba osob w calym obszarze\npop = sum(races_all, na.rm=TRUE)\n\n#liczba osob w kazdej jednostce spisowej\npop_i = apply(races, 1, sum, na.rm=TRUE)\n\n#odsetek osob w danej grupy rasowo-etnicznej w kazdej jednostce spisowej\nproportions = races/pop_i\n\n#odsetek osob w danej grupy rasowo-etnicznej w calym obszarze\nproportions_all = races_all/sum(races_all, na.rm = TRUE)\n\n#entropia dla kazdej jednostki spisowej\nent_i = apply(proportions, 1, entropy_fnc)\n\n#entropia dla calego obszaru\nent = entropy_fnc(proportions_all) \n\n#obliczenie H\nhind = sum(pop_i*(ent-ent_i)/(ent*pop), na.rm=TRUE)\nreturn(hind)\n}\n\n##########  Funkcja obliczająca wskaźnik niepodobieństwa D\n# a - liczba osob grupy 1 w jednostce spisowej, b - liczba osob gruy 2 w jednostce spisowej\nd_ind = function(a, b) {\n  d = 0.5*sum(abs(a/sum(a, na.rm=TRUE) - b/sum(b, na.rm=TRUE)))\n  return(d)\n}"
  },
  {
    "objectID": "4b_miary_segregacji_hrabstwo.html#przykład-zróżnicowanie-oraz-segregacja-rasowa-w-district-of-columbia-w-2020-roku",
    "href": "4b_miary_segregacji_hrabstwo.html#przykład-zróżnicowanie-oraz-segregacja-rasowa-w-district-of-columbia-w-2020-roku",
    "title": "10  Miary zróżnicowania i segregacji",
    "section": "10.3 Przykład: Zróżnicowanie oraz segregacja rasowa w District of Columbia w 2020 roku",
    "text": "10.3 Przykład: Zróżnicowanie oraz segregacja rasowa w District of Columbia w 2020 roku\nW poniższym przykładzie zostaną obliczone miary segregacji oraz zróżnicowania rasowo-etnicznego używając danych na poziomie bloków spisowych z 2020 roku dla obszaru District of Columbia.\nTabela przedstawia dane dotyczące struktury rasowo-etnicznej dla bloków spisowych dla 6 kategorii rasowo-etnicznych (WHITE, BLACK, ASIAN, HISPANIC, AM, OTHER).\n\ndat &lt;- read.csv(\"data/data_attr/dc_blocks_2020_attr.csv\")\n\n\nhead(dat)\n\n          GISJOIN    GISJOIN_T WHITE BLACK AM ASIAN OTHER HISPANIC POP\n1 G11000100001101 G11000100001   244    13  0     7     0       27 291\n2 G11000100001102 G11000100001    22     0  0    13     0        0  35\n3 G11000100001103 G11000100001    34     0  0     0     0        1  35\n4 G11000100001104 G11000100001    96     0  0     0     0        4 100\n5 G11000100001105 G11000100001    39     0  0     1     0        4  44\n6 G11000100001106 G11000100001    84     1  0     5     0        3  93\n\n\n\n10.3.1 Rasowo-etniczna struktura ludności w analizowanym obszarze\n\n# Wty miejscu podajemy nazwy kolumn dla poszczegolnych grup rasowo-etnicznych zgodne z wczytanym wczesniej plikiem csv\nlist_race &lt;- c(\"WHITE\", \"BLACK\", \"ASIAN\", \"HISPANIC\", \"AM\", \"OTHER\")\n\n\nLiczba ludności w podziale na grupy rasowo-etniczne w analizowanym obszarze w 2020 roku.\n\nraces_all  &lt;- apply(dat[,list_race], 2, sum, na.rm = TRUE)\n\n\nraces_all\n\n   WHITE    BLACK    ASIAN HISPANIC       AM    OTHER \n  166131   395213    10734    32710     1252      860 \n\n\n\n\nLiczba ludności w analizowanym obszarze w 2020 roku.\n\npop = sum(races_all)\n\n\n\nProcentowy udział poszczególnych grup rasowo-etnicznych w analizowanym obszarze w 2020 roku.\n\nperc_all &lt;- races_all/sum(races_all)\nround(perc_all*100, 2)\n\n   WHITE    BLACK    ASIAN HISPANIC       AM    OTHER \n   27.37    65.12     1.77     5.39     0.21     0.14 \n\n\n\n\n\n10.3.2 Analiza zróżnicowania oraz segregacji rasowo-etnicznej na podstawie danych z bloków spisowych\n\nObliczenie entropii na podstawie bloków spisowych\n\nEntropia jest miarą zróżnicowania całego obszaru (np. hrabstwa). Musimy zatem najpierw zsumować dane dotyczące struktury rasowo-etnicznej całego obszaru, a następnie obliczyć odsetek poszczególnych ras w ogólnej liczbie ludności.\n\n\nraces_all  &lt;- apply(dat[,list_race], 2, sum, na.rm = TRUE) #races_all zawiera liczbę osob wg ras dla całego obszaru\nperc &lt;- races_all/sum(races_all) #Odseted osob poszczegolnych ras dla calego obszaru\nperc &lt;- perc[list_race] #wybierz tylko wartosci dla ras\nperc\n\n      WHITE       BLACK       ASIAN    HISPANIC          AM       OTHER \n0.273737024 0.651199539 0.017686604 0.053896853 0.002062943 0.001417037 \n\n\nWektor perc zawiera dane, które należy podstawić do obliczenia entropii.\n\nent  &lt;- entropy_fnc(perc)\nent\n\n[1] 0.8848065\n\n\n\n\nObliczenie entropii standaryzowanej na podstawie bloków spisowych\n\nent_std &lt;- entropy_std_fnc(perc)\nent_std\n\n[1] 0.4938199\n\n\n\n\nObliczanie wskaźnika teorii informacji H na podstawie bloków spisowych\n\nraces = dat[, list_race]\nh = hindex(races)\nh\n\n[1] 0.5205281\n\n\n\n\nObliczenie wskaźnika niepodobieństwa D na podstawie bloków spisowych\n\nd_wb &lt;- d_ind(dat$WHITE, dat$BLACK)\n\n\nd_wa &lt;- d_ind(dat$WHITE, dat$ASIAN)\n\n\nd_wl &lt;- d_ind(dat$WHITE, dat$HISPANIC)\n\n\nd_bl &lt;- d_ind(dat$BLACK, dat$HISPANIC)\n\n\n\n\n10.3.3 Podsumowanie miar segregacji na poziomie bloków spisowych\n\nout &lt;- round(c(entropia = ent, entropia_std = ent_std, H = h, Dwb = d_wb, Dwa = d_wa, Dwl = d_wl, Dbl = d_bl), 3)\nout\n\n    entropia entropia_std            H          Dwb          Dwa          Dwl \n       0.885        0.494        0.521        0.820        0.424        0.599 \n         Dbl \n       0.706 \n\n\n\nWykorzystując powyższy kod proszę obliczyć entropię, entropię standaryzowaną, wskaźnik teorii informacji H oraz wskaźnik niepodobieństwa D wykorzystując dane zaagregowane do obszarów spisowych (census tract)."
  },
  {
    "objectID": "4c_analiza_struktury_ct.html#przykład",
    "href": "4c_analiza_struktury_ct.html#przykład",
    "title": "11  Analiza rasowo-etnicznej struktury ludności na poziomie obszarów spisowych",
    "section": "11.1 Przykład",
    "text": "11.1 Przykład\nW przykładzie przeprowadzono analizę rasowo-etnicznej struktury ludności dla obszaru Distric of Columbia dla 1990 roku. W tym celu zostaną wykorzystane dane zagregowane do obszarów spisowych (ang. census tract) dla District of Columbia dla roku 1990 oraz 2020.\nAnaliza obejmuje kilka etapów:\n\nEtap 1. Standaryzacja danych między latami\nEtap 2. Obliczenie procentowego udziału grup rasowo-etnicznych w każdym obszarze spisowym\nEtap 3. Obliczenie miar zróżnicowania rasowo-etnicznego w każdym obszarze spisowym\n\n\nEtap 1. Standaryzacja granic między rokiem 1990 a 2020\nGranice obszarów spisowych zmieniały się pomiędzy latami. Aby analiza porównawcza między latami 1990 a 2020 była możliwa, dane z roku 1990 trzeba najpierw prztransformować do granic z 2020 roku. W tym celu zostanie wykorzystana metoda powierzchniowo-wagowa. Wyniki tego etapu zostaną zapisane w geopaczce dc_tracts_areal.gpkg.\n\nlibrary(sf)\nlibrary(dplyr)\n\n\nlist_race = c(\"WHITE\", \"BLACK\", \"ASIAN\", \"HISPANIC\", \"AM\", \"OTHER\")\n\n\nlibrary(sf)\ndat90 = st_read(\"data/data_geo/dc_tracts_attr.gpkg\", layer = \"tract_attr_1990\")\n\nReading layer `tract_attr_1990' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/data_geo/dc_tracts_attr.gpkg' \n  using driver `GPKG'\nSimple feature collection with 192 features and 11 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610795 ymin: 1915125 xmax: 1629412 ymax: 1936100\nProjected CRS: NAD83 / Conus Albers\n\ndat20 = st_read(\"data/data_geo/dc_tracts_attr.gpkg\", layer = \"tract_attr_2020\")\n\nReading layer `tract_attr_2020' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/data_geo/dc_tracts_attr.gpkg' \n  using driver `GPKG'\nSimple feature collection with 206 features and 11 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610830 ymin: 1915291 xmax: 1629412 ymax: 1936182\nProjected CRS: NAD83 / Conus Albers\n\n\n\n#target units to granice z 2020 roku bez danych atrybutowych\ntarget_units &lt;- dat20[, c(\"GISJOIN\")]\n\n#source units to dane w granicach z 1990 roku\nsource_units &lt;- dat90[, list_race]\n\n\nhead(target_units)\n\nSimple feature collection with 6 features and 1 field\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1614193 ymin: 1924396 xmax: 1617196 ymax: 1928676\nProjected CRS: NAD83 / Conus Albers\n         GISJOIN                           geom\n1 G1100010000101 MULTIPOLYGON (((1617191 192...\n2 G1100010000102 MULTIPOLYGON (((1616328 192...\n3 G1100010000201 MULTIPOLYGON (((1614894 192...\n4 G1100010000202 MULTIPOLYGON (((1615456 192...\n5 G1100010000300 MULTIPOLYGON (((1615387 192...\n6 G1100010000400 MULTIPOLYGON (((1615334 192...\n\n\n\nhead(source_units)\n\nSimple feature collection with 6 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1617393 ymin: 1922581 xmax: 1625141 ymax: 1932562\nProjected CRS: NAD83 / Conus Albers\n  WHITE BLACK ASIAN HISPANIC AM OTHER                           geom\n1    72  3774     7       19  4     7 MULTIPOLYGON (((1625141 192...\n2   387  3369    34      179 10    34 MULTIPOLYGON (((1617911 193...\n3   999   881    87       82  5    87 MULTIPOLYGON (((1620563 192...\n4   884   998    54      116  9    54 MULTIPOLYGON (((1621221 192...\n5  2077  3523    71      170 25    71 MULTIPOLYGON (((1619819 193...\n6    73  3143    17       20 10    17 MULTIPOLYGON (((1621529 193...\n\n\nDo przeliczenia danych z wykorzystaniem metody powierzchniowo-wagowej wykorzystamy funkcję st_interpolate_aw() z pakietu sf. Funkcja ta wymaga podania:\n\nobiektu klasy sf zawierającego dane, które chcemy przeliczyć (source_units),\nobiektu klasy sf zawierającego zestaw granic, do którego mają zostać przeliczone atrybuty (target_units)\n\nW przypadku danych dotyczących liczby ludności należy podać argument extensive = TRUE. Argument keep_NA = TRUE oznacza, że zostaną zachowane wszystkie poligony z obiektu target_units (także te z brakiem wartości danych).\n\nlibrary(sf)\nresult90_20 = st_interpolate_aw(source_units, target_units, extensive = TRUE, keep_NA = TRUE, na.rm = TRUE)\n\nWarning in st_interpolate_aw.sf(source_units, target_units, extensive = TRUE, :\nst_interpolate_aw assumes attributes are constant or uniform over areas of x\n\n\n\nObiekt result90_20 zawiera dane z roku 1990 przeliczone do granic z roku 2020. Funkcja st_interpolate_aw() z pakietu sf zwraca wynik w postaci obiektu klasy sf.\n\n\nhead(result90_20)\n\nSimple feature collection with 6 features and 6 fields\nAttribute-geometry relationships: aggregate (6)\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1614193 ymin: 1924396 xmax: 1617196 ymax: 1928676\nProjected CRS: NAD83 / Conus Albers\n      WHITE     BLACK     ASIAN  HISPANIC        AM     OTHER\n1  454.5016  16.09886  15.94307  25.56702 0.3377234  15.94307\n2 3702.1012 130.23859 130.96536 209.30051 2.9178326 130.96536\n3 2811.2740 353.45503 301.79514 257.49572 6.8150418 301.79514\n4 3108.5839  74.83404 126.18505 178.01845 5.8030923 126.18505\n5 5131.9774 193.13742 216.40894 296.51183 8.1870299 216.40894\n6 1169.7487  53.64554  79.48757 124.16312 4.8734767  79.48757\n                        geometry\n1 MULTIPOLYGON (((1617191 192...\n2 MULTIPOLYGON (((1616328 192...\n3 MULTIPOLYGON (((1614894 192...\n4 MULTIPOLYGON (((1615456 192...\n5 MULTIPOLYGON (((1615387 192...\n6 MULTIPOLYGON (((1615334 192...\n\n\nW kolejnym etapie ponownie do obiektu wynikowego result90_20 przypiszemy identyfikator GISJOIN dla obszarów spisowych. Uwaga! Obiekt result90_20 to granice z 2020 roku, dlatego należy przypisać pole GISJOIN z warstwy dat20\n\nresult90_20$GISJOIN = dat20$GISJOIN\n\nW kolejnym etapie ponownie dla każdego obszaru spisowego wyliczymy liczbę ludności\n\nresult90_20$POP = rowSums(result90_20[,list_race, drop = TRUE], na.rm = TRUE)\n\n\nresult90_20 = result90_20[, c(\"GISJOIN\", list_race, \"POP\")]\n\nZapisanie danych atrybutowych z 1990 roku w granicach z 2020 roku (przy wykonywaniu analizy dla innego roku podać nazwę layer = tract_areal_[rok])\n\nst_write(result90_20, \"data/data_geo/dc_tract_areal.gpkg\", layer = \"tract_areal_1990\", append = TRUE)\n\nDodanie danych z 2020 roku\n\nst_write(dat20, \"data/data_geo/dc_tract_areal.gpkg\", layer = \"tract_areal_2020\", append = TRUE)\n\n\n\nEtap 2. Udział procentowy grup rasowo-etnicznych w każdym obszarze spisowym\nDalsza część analizy zostanie wykonana używając danych zapisanych w pliku data_geo/dc_tract_areal.gpkg. Są to dane z 1990 roku na poziomie obszarów spisowych “przeliczone” do granic z roku 2020.\n\nlibrary(sf)\nlist_race &lt;- c(\"WHITE\", \"BLACK\", \"ASIAN\", \"HISPANIC\", \"AM\", \"OTHER\")\ndat_ct = st_read(\"data/data_geo/dc_tract_areal.gpkg\", layer = \"tract_areal_1990\")\n\nReading layer `tract_areal_1990' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/data_geo/dc_tract_areal.gpkg' \n  using driver `GPKG'\nSimple feature collection with 206 features and 8 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610830 ymin: 1915291 xmax: 1629412 ymax: 1936182\nProjected CRS: NAD83 / Conus Albers\n\n\n\n#obliczenie odsetka ras dla poszczegolnych obszarow spisowych (dane wejsciowe do obliczenia entropii)\nperc_ct &lt;- dat_ct[,list_race]/dat_ct$POP\nperc_ct$geometry&lt;-NULL\n\n\n\nEtap 3. Miary zróżnicowania rasowo-etnicznego\n\n#proportions - wektor zawierający odsetek poszczególnych ras w ogólnej liczbie ludności (wartości od 0 do 1)\n#base - podstawa logarytmu, domyslnie exp(1) oznacza obliczenie logarytmu naturalnego \nentropy_fnc = function(proportions, base = exp(1)) {\n  entr = -sum(ifelse(proportions &gt; 0, proportions * log(proportions, base = base), 0))\n  return(entr)\n}\n\n\n#obliczenie entopii dla każdego obszaru spisowego\nent &lt;- apply(perc_ct, 1, entropy_fnc)\n\n\n#obliczenie entopii standaryzowanej dla każdego obszaru spisowego\nestd &lt;- ent/log(6)\n\n\n#obliczenie liczby Hilla \nhill &lt;- exp(1)^ent"
  },
  {
    "objectID": "4c_analiza_struktury_ct.html#wizualizacja-wyników-z-pakietem-tmap",
    "href": "4c_analiza_struktury_ct.html#wizualizacja-wyników-z-pakietem-tmap",
    "title": "11  Analiza rasowo-etnicznej struktury ludności na poziomie obszarów spisowych",
    "section": "11.2 Wizualizacja wyników z pakietem tmap",
    "text": "11.2 Wizualizacja wyników z pakietem tmap\n\n#stworzenie ramki danych z udzialem procentowym i miarami zroznicowania\nout_ct = data.frame(perc_ct, ent, estd, hill)\n\nPrzekształcenie obiektu out_ct na obiekt przestrzenny\n\nout_ct = cbind(dat_ct[, 1], out_ct)\n\nZapisanie wyników\n\nst_write(out_ct, \"data/data_geo/dc_results.gpkg\", layer = \"out_ct_1990\")\n\n\n11.2.1 Miary zróżnicowania rasowo-etnicznego\n\nlibrary(tmap)\n\n#w zaleznosci od wersji tmap yl_or_br lub YlOrBr, lub oranges vs. Oranges\n# argument breaks pozwala na ustawienie zakresu przedzialow\nhill_map &lt;- tm_shape(out_ct) + \n  tm_polygons(fill = \"hill\", \n              fill.scale = tm_scale(values = \"-viridis\", breaks = c(0,1,2,3,4,5)),\n              fill.legend = tm_legend(title = \"Hill\", frame = FALSE, position = tm_pos_in(\"left\", \"bottom\"))) + \n  tm_layout(legend.text.size = 0.9,\n            legend.title.size=1.2,\n            frame = FALSE)\n\nhill_map\n\n\n\n\n\ntmap_save(hill_map, \"results/dc_hill1990.svg\")\n\nMap saved to /home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/results/dc_hill1990.svg\n\n\nSize: 6.601681 by 7.422352 inches\n\n\n\n\n11.2.2 Rozmieszczenie grup rasowo-etnicznych\nObiekt out_ct zostanie przekształcony do formatu “długiego”, a następnie przy użyciu argumentu tm_facets_wrap() zostaną utworzone mapy pokazujące procentowy udział białych, czarnych, Azjatów oraz Latynosów. Mapy zostaną także zapisane do pliku o rozszerzeniu .svg.\n\nlibrary(tidyverse)\nrace_data &lt;- out_ct %&gt;% \n  select(c(WHITE, BLACK, ASIAN, HISPANIC)) %&gt;% \n  pivot_longer(cols = c(WHITE, BLACK, ASIAN, HISPANIC),\n               names_to = \"RACE\",\n               values_to = \"PERC\")\n\n\nrace_maps &lt;- tm_shape(race_data ) +\n  tm_polygons(fill = \"PERC\",\n              fill.scale = tm_scale(values = \"oranges\"),\n              fill.legend = tm_legend(title = \"Udział procentowy\", orientation = \"landscape\", frame = FALSE, position = tm_pos_out(\"center\", \"bottom\"))) +\n  tm_facets_wrap(by = \"RACE\", nrow = 1) +\n  tm_layout(legend.text.size = 0.8,\n            legend.title.size=1.2,\n            panel.labels = c(\"AZJACI\", \"CZARNI\", \"LATYNOSI\", \"BIALI\"))\n\nrace_maps\n\n\n\n\n\ntmap_save(race_maps, \"results/dc_race1990.svg\")\n\n\nWykonaj mapy zróżnicowania rasowo-etnicznego oraz rozmieszczenia grup rasowo-etnicznych dla roku 2020."
  },
  {
    "objectID": "4c_analiza_struktury_ct.html#wizualizacja-wyników-z-pakietem-ggplot2",
    "href": "4c_analiza_struktury_ct.html#wizualizacja-wyników-z-pakietem-ggplot2",
    "title": "11  Analiza rasowo-etnicznej struktury ludności na poziomie obszarów spisowych",
    "section": "11.3 Wizualizacja wyników z pakietem ggplot2",
    "text": "11.3 Wizualizacja wyników z pakietem ggplot2\n\nlibrary(ggplot2)\nggplot(data = out_ct) +\n  geom_sf(aes(fill = hill)) +\n  scale_fill_binned(type = \"viridis\") + \n  labs(title = \"District of Columbia, 1990\") + \n  theme_bw() +\n  theme(legend.position=\"bottom\")\n\n\n\n\n\nlibrary(ggplot2)\nggplot(data = race_data) +\n  geom_sf(aes(fill = PERC)) +\n  facet_wrap(~RACE, nrow = 1) + \n  scale_fill_distiller(palette = \"Oranges\", trans = \"reverse\") + \n  labs(title = \"District of Columbia, 1990\") + \n  theme_bw() +\n  theme(legend.position=\"bottom\")"
  },
  {
    "objectID": "4d_miary_segregacji_ct.html#analiza-zróżnicowania-oraz-segregacji-rasowej-dla-poszczególnych-obszarów-spisowych.",
    "href": "4d_miary_segregacji_ct.html#analiza-zróżnicowania-oraz-segregacji-rasowej-dla-poszczególnych-obszarów-spisowych.",
    "title": "12  Analiza i wizualizacja zróżnicownia oraz segregacji rasowo-etnicznej na poziomie obszarów spisowych",
    "section": "12.1 Analiza zróżnicowania oraz segregacji rasowej dla poszczególnych obszarów spisowych.",
    "text": "12.1 Analiza zróżnicowania oraz segregacji rasowej dla poszczególnych obszarów spisowych.\nObliczenie miar segregacji wymaga podzielenia obszaru analizy na mniejsze jednostki. W poniższym przykładzie miary segregacji (wskaźnik teorii informacji H) zostaną obliczone dla każdego obszaru spisowego oddzielnie. Aby to było możliwe każdy obszar spisowy musi zostać podzielony na bloki spisowe, a następnie używając danych z bloków spisowych zostanie policzony wskaźnik H dla każdego obszaru spisowego. Obliczenie wskaźników segregacji dla obszarów spisowych pozwala na przeanalizowanie segregacji rasowej na poziomie lokalnym, wewnątrz miasta.\n\n\n\nRycina 1. Zróżnicowanie oraz segregacja rasowa w obszarach spisowych"
  },
  {
    "objectID": "4d_miary_segregacji_ct.html#dane-dla-bloków-spisowych",
    "href": "4d_miary_segregacji_ct.html#dane-dla-bloków-spisowych",
    "title": "12  Analiza i wizualizacja zróżnicownia oraz segregacji rasowo-etnicznej na poziomie obszarów spisowych",
    "section": "12.2 Dane dla bloków spisowych",
    "text": "12.2 Dane dla bloków spisowych\nW poniższym przykładzie zostaną obliczone miary segregacji oraz zróżnicowania rasowo-etnicznego dla każdego obszaru spisowego dla 1990 roku. W tym celu zostaną wykorzystane dane:\n\ndc_blocks_1990_attr.csv zawierające informacje o strukturze rasowo-etnicznej ludności na poziomie bloków spisowych. Pole GISJOIN_T zawiera identyfikator obszaru spisowego.\ndc_tracts.gpkg (layer = “tract_1990”) zawierający granice obszarów spisowych z 1990 roku.\n\n\nW tym ćwiczeniu nie możemy użyć granic obszarów spisowych ujednoliconych między latami. Wynikowe mapy pokazujące rozkład przestrzenny segregacji rasowo-etnicznej w danym roku nie będą zatem w pełni porównywalne ze względu na zmieniające się granice.\n\n\nDlaczego nie możemy użyć granic obszarów spisowych ujednoliconych między latami?\n\nTabela przedstawia dane dotyczące struktury rasowo-etnicznej dla bloków spisowych dla 6 kategorii rasowo-etnicznych (WHITE, BLACK, ASIAN, HISPANIC, AM, OTHER).\n\ndat_blocks &lt;- read.csv(\"data/data_attr/dc_blocks_1990_attr.csv\")\n\n\nhead(dat_blocks)\n\n          GISJOIN    GISJOIN_T WHITE BLACK AM ASIAN OTHER HISPANIC POP\n1 G11000100001101 G11000100001   244    13  0     7     0       27 291\n2 G11000100001102 G11000100001    22     0  0    13     0        0  35\n3 G11000100001103 G11000100001    34     0  0     0     0        1  35\n4 G11000100001104 G11000100001    96     0  0     0     0        4 100\n5 G11000100001105 G11000100001    39     0  0     1     0        4  44\n6 G11000100001106 G11000100001    84     1  0     5     0        3  93"
  },
  {
    "objectID": "4d_miary_segregacji_ct.html#obliczenie-miar-segregacji-dla-obszarów-spisowych",
    "href": "4d_miary_segregacji_ct.html#obliczenie-miar-segregacji-dla-obszarów-spisowych",
    "title": "12  Analiza i wizualizacja zróżnicownia oraz segregacji rasowo-etnicznej na poziomie obszarów spisowych",
    "section": "12.3 Obliczenie miar segregacji dla obszarów spisowych",
    "text": "12.3 Obliczenie miar segregacji dla obszarów spisowych\nWskaźnik teorii informacji \\(H\\) obliczany jest według wzoru:\n\\[H = \\sum_{i=1}^{N}\\left [ \\frac{t_{i}(E - E_{i})}{ET} \\right ]\\]\nNa potrzeby obliczeń wykonywanych w R wzór ten można zapisać następująco:\n\\[H = \\sum_{i=1}^{N}\\left [ \\frac{pop_{i}(ent - ent_{i})}{ent\\times pop} \\right ]\\] W przypadku obliczania wskaźnika \\(H\\) dla poszczególnych obszarów spisowych podzielonych na bloki spisowe:\n\n\\(E_{i}\\) (ent_i) - entropia bloku spisoweg i wchodzącego w skład obszaru spisowego,\n\\(E\\) (ent)- entropia obliczona dla obszaru spisowego\n\\(t_{i}\\) (pop_i) - liczba ludnościbloku spisoweg i wchodzącego w skład obszaru spisowego,\n\\(T\\) (pop) - liczba ludności dla obszaru spisowego\n\n\n12.3.1 Obliczenie wskaźnika H dla obszarów spisowych\nObliczenie wskaźnika H dla obszarów spisowych wymaga także obliczenia entropii oraz liczby ludności dla każdego obszaru spisowego. W tym celu dane z bloków spisowych muszą zostać zaagregowane do obszarów spisowych.\n\nEtap 1. Obliczenie entropii oraz liczby ludności w każdym obszarze spisowym.\n\n#proportions - wektor zawierający odsetek poszczególnych ras w ogólnej liczbie ludności (wartości od 0 do 1)\n#base - podstawa logarytmu, domyslnie exp(1) oznacza obliczenie logarytmu naturalnego \nentropy_fnc = function(proportions, base = exp(1)) {\n  entr = -sum(ifelse(proportions &gt; 0, proportions * log(proportions, base = base), 0))\n  return(entr)\n}\n\n\n# agregacja danych z bloków spisowych do obszarów spisowych\ndat_ct &lt;- aggregate(.~GISJOIN_T, dat_blocks[, c(\"GISJOIN_T\", list_race, \"POP\")], FUN=sum) \n\n#utworzenie ramki danych zawierajacej identyfikator obszaru spisowego (GISJOINT) oraz ogólną liczbę ludności dla każdego obszaru spisowego. \nout_ct &lt;- data.frame(GISJOIN_T = dat_ct$GISJOIN_T, pop = dat_ct$POP)\n\n#obliczenie odsetka ras dla poszczegolnych obszarow spisowych (dane wejsciowe do obliczenia entropii)\nperc_ct &lt;- dat_ct[,list_race]/dat_ct$POP\n\n#obliczenie entopii dla każdego obszaru spisowego oraz dodanie jej do obiektu out_ct\nout_ct$ent &lt;- apply(perc_ct, 1, entropy_fnc)\n\n\n#obiekt out_ct zawiera identyfikator obszaru spisowego, liczbę ludności w obszarze spisowym (pop) oraz entropię obszaru spisowego (ent)\nhead(out_ct)\n\n       GISJOIN_T  pop       ent\n1   G11000100001 4706 0.4798969\n2 G1100010000201 3836 0.8706689\n3 G1100010000202 3639 0.4449927\n4 G1100010000310 5738 0.5095437\n5   G11000100004 1319 0.6939255\n6 G1100010000501 2774 0.6233946\n\n\n\n\nEtap 2. Obliczenie entropii oraz liczby ludności dla każdego bloku spisowego.\nObiekt out_block zawiera dane dla poszczególnych bloków spisowych: GISJOIN - identyfikator bloku spisowego, GISJOIN_T - identyfikator obszaru spisowego, pop_i - ogólna liczba ludności w bloku spisowym.\n\nout_block &lt;- data.frame(GISJOIN = dat_blocks$GISJOIN, GISJOIN_T = dat_blocks$GISJOIN_T, pop_i = dat_blocks$POP)\nhead(out_block)\n\n          GISJOIN    GISJOIN_T pop_i\n1 G11000100001101 G11000100001   291\n2 G11000100001102 G11000100001    35\n3 G11000100001103 G11000100001    35\n4 G11000100001104 G11000100001   100\n5 G11000100001105 G11000100001    44\n6 G11000100001106 G11000100001    93\n\n\n\n#obliczenie odsetka wg ras dla każdego bloku (dane wejsciowe do obliczenia entropii dla bloku)\nperc_block &lt;- dat_blocks[,list_race]/dat_blocks$POP\nperc_block[is.na(perc_block)] &lt;- 0\n\n\n# obliczenie entropii dla każdego bloku \nout_block$ent_i &lt;- apply(perc_block, 1, entropy_fnc)\nhead(out_block)\n\n          GISJOIN    GISJOIN_T pop_i     ent_i\n1 G11000100001101 G11000100001   291 0.5968203\n2 G11000100001102 G11000100001    35 0.6597116\n3 G11000100001103 G11000100001    35 0.1297407\n4 G11000100001104 G11000100001   100 0.1679441\n5 G11000100001105 G11000100001    44 0.4109151\n6 G11000100001106 G11000100001    93 0.4086034\n\n\n\n\nEtap 3. Obliczenie wskaźnika H dla każdego obszaru spisowego.\nDo obliczenia wskaźnika H potrzebne są dane zawarte w obiekcie out_ct oraz out_block.\n\ncalc_df &lt;- merge(out_ct, out_block, by=\"GISJOIN_T\")\ncalc_df &lt;- calc_df[, c(\"GISJOIN_T\", \"GISJOIN\", \"pop\", \"pop_i\", \"ent\", \"ent_i\")]\nhead(calc_df)\n\n     GISJOIN_T         GISJOIN  pop pop_i       ent     ent_i\n1 G11000100001 G11000100001101 4706   291 0.4798969 0.5968203\n2 G11000100001 G11000100001102 4706    35 0.4798969 0.6597116\n3 G11000100001 G11000100001103 4706    35 0.4798969 0.1297407\n4 G11000100001 G11000100001104 4706   100 0.4798969 0.1679441\n5 G11000100001 G11000100001105 4706    44 0.4798969 0.4109151\n6 G11000100001 G11000100001106 4706    93 0.4798969 0.4086034\n\n\nObiekt calc_df zawiera dane dla każdego bloku spisowego: - pop - liczba ludności w obszarze spisowym, do którego przypisany jest blok i - pop_i - liczba ludności w bloku spisowym i - ent - entropia obszaru spisowego, do którego przypisany jest blok i - ent_i - entropia bloku spisowego i.\n\ncalc_df$H &lt;- calc_df$pop_i*(calc_df$ent-calc_df$ent_i)/(calc_df$ent*calc_df$pop)\n\nObliczenie wskaźnika teorii informacji H dla każdego obszaru spisowego.\n\nh_index &lt;- aggregate(H~GISJOIN_T, calc_df, sum)\n\n\n\nPodsumowanie wyników dla obszarów spisowych.\n\nout_ct &lt;- merge(out_ct, h_index, by = \"GISJOIN_T\")\ncolnames(out_ct) &lt;- c(\"GISJOIN_T\", \"POP\", \"E\", \"H\")\n\n\n#obliczenie entropii standaryzowanej \nout_ct$Estd &lt;- out_ct$E/log(length(list_race))\n\n\nout &lt;- merge(dat_ct, out_ct[,-2], by=\"GISJOIN_T\")\n\n\nhead(out)\n\n       GISJOIN_T WHITE BLACK ASIAN HISPANIC AM OTHER  POP         E          H\n1   G11000100001  4175   147   145      233  3     3 4706 0.4798969 0.10871475\n2 G1100010000201  2860   371   315      266  7    17 3836 0.8706689 0.00000000\n3 G1100010000202  3267    60   121      181  6     4 3639 0.4449927 0.11623550\n4 G1100010000310  5046   186   208      284  8     6 5738 0.5095437 0.06135772\n5   G11000100004  1073    48    78      114  5     1 1319 0.6939255 0.24084796\n6 G1100010000501  2332   143   107      183  1     8 2774 0.6233946 0.02808431\n       Estd\n1 0.2678356\n2 0.4859296\n3 0.2483552\n4 0.2843818\n5 0.3872872\n6 0.3479231"
  },
  {
    "objectID": "4d_miary_segregacji_ct.html#typy-zróżnicowania-rasowego-oraz-segregacji-rasowej",
    "href": "4d_miary_segregacji_ct.html#typy-zróżnicowania-rasowego-oraz-segregacji-rasowej",
    "title": "12  Analiza i wizualizacja zróżnicownia oraz segregacji rasowo-etnicznej na poziomie obszarów spisowych",
    "section": "12.4 Typy zróżnicowania rasowego oraz segregacji rasowej",
    "text": "12.4 Typy zróżnicowania rasowego oraz segregacji rasowej\n\nZróżnicowanie rasowe oraz segregacja rasowa to dwie osobne koncepcje. Obszar może być równocześnie zróżnicowany rasowo, ale poszczególne grupy mogą mieszkać w odzielnych częściach miasta (duża segregcja rasowa). Wykorzystując wartości entropii standaryzowanej oraz wskaźnika teorii informacji H zostanie wyznaczonych 9 typów struktury rasowo-etnicznej określonych przez poziom zróżnicowania oraz segregacji rasowej.\n\nEntropia standaryzowana oraz wskaźnik teorii informacji H przyjmuje wartości od 0 do 1. Wartości te podzielimy na 3 równe grupy (0, 0.33), (0.33, 0.66), (0.66,1) określające odpowiednio małe, średnie, duże zróżnicowanie lub segregację.\n\n12.4.1 Klasyfikacja\nKompletna klasyfikacja składa się z 9 następujących typów:\n\nbiv &lt;-  expand.grid(Estd = c(\"L\", \"M\", \"H\"), H=c(\"L\", \"M\", \"H\"))\nbiv$biv_cls &lt;- paste(biv$Estd,biv$H,  sep=\"\")\nbiv\n\n  Estd H biv_cls\n1    L L      LL\n2    M L      ML\n3    H L      HL\n4    L M      LM\n5    M M      MM\n6    H M      HM\n7    L H      LH\n8    M H      MH\n9    H H      HH\n\n\n\nlibrary(dplyr)\nbiv$biv_classes &lt;- recode(biv$biv_cls, \n                          \"LL\" = \"low diversity and low segregation\", \n                          \"ML\" = \" medium diversity and low segregation\", \n                          \"HL\" = \"high diversity and low segregation\", \n                          \"LM\" = \"low diversity and medium segregation\", \n                          \"MM\" = \"medium diversity and medium segregation\", \n                          \"HM\" = \"high diversity and medium segregation\",\n                          \"LH\" = \"low diversity and high segregation\", \n                          \"MH\" = \"medium diversity and high segregation\", \n                          \"HH\" = \"high diversity and high segregation\")\n\n\nlibrary(kableExtra)\nbiv %&gt;%\n  kbl(caption = \"Typy struktury rasowo-etnicznej\") %&gt;%\n  kable_classic(full_width = T, html_font = \"Cambria\")\n\n\nTypy struktury rasowo-etnicznej\n\n\nEstd\nH\nbiv_cls\nbiv_classes\n\n\n\n\nL\nL\nLL\nlow diversity and low segregation\n\n\nM\nL\nML\nmedium diversity and low segregation\n\n\nH\nL\nHL\nhigh diversity and low segregation\n\n\nL\nM\nLM\nlow diversity and medium segregation\n\n\nM\nM\nMM\nmedium diversity and medium segregation\n\n\nH\nM\nHM\nhigh diversity and medium segregation\n\n\nL\nH\nLH\nlow diversity and high segregation\n\n\nM\nH\nMH\nmedium diversity and high segregation\n\n\nH\nH\nHH\nhigh diversity and high segregation\n\n\n\n\n\n\n\n\n\n12.4.2 Zastosowanie klasyfikacji do danych\n\nout$Estd_cls &lt;- cut(out$Estd, breaks = c(0, 0.33, 0.66, 1), labels = c(\"L\", \"M\", \"H\"), include.lowest = TRUE, right = TRUE)\nout$H_cls &lt;- cut(out$H, breaks = c(0, 0.33, 0.66, 1), labels = c(\"L\", \"M\", \"H\"), include.lowest = TRUE, right = TRUE)\nout$biv_cls &lt;- paste(out$Estd_cls, out$H_cls, sep=\"\")\n\n\n\n       GISJOIN_T WHITE BLACK ASIAN HISPANIC AM OTHER  POP         E          H\n1   G11000100001  4175   147   145      233  3     3 4706 0.4798969 0.10871475\n2 G1100010000201  2860   371   315      266  7    17 3836 0.8706689 0.00000000\n3 G1100010000202  3267    60   121      181  6     4 3639 0.4449927 0.11623550\n4 G1100010000310  5046   186   208      284  8     6 5738 0.5095437 0.06135772\n5   G11000100004  1073    48    78      114  5     1 1319 0.6939255 0.24084796\n6 G1100010000501  2332   143   107      183  1     8 2774 0.6233946 0.02808431\n       Estd Estd_cls H_cls biv_cls\n1 0.2678356        L     L      LL\n2 0.4859296        M     L      ML\n3 0.2483552        L     L      LL\n4 0.2843818        L     L      LL\n5 0.3872872        M     L      ML\n6 0.3479231        M     L      ML\n\n\n\n\n12.4.3 Wyniki\n\nlibrary(sf)\n\nLinking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE\n\n\nGranice obszarów spisowych\n\nbnd = st_read(\"data/data_geo/dc_tracts.gpkg\", layer = \"tract_1990\")\n\nReading layer `tract_1990' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/data_geo/dc_tracts.gpkg' \n  using driver `GPKG'\nSimple feature collection with 192 features and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610795 ymin: 1915125 xmax: 1629412 ymax: 1936100\nProjected CRS: NAD83 / Conus Albers\n\n\nW tabeli out identyfikator obszarów spisowych znajduje się w polu GISJOIN_T, w danych przestrzennych (obiekt bnd) identyfikator obszarów spisowych zapisany jest w polu GISJOIN.\n\nbnd_attr &lt;- merge(bnd, out, by.x = \"GISJOIN\", by.y = \"GISJOIN_T\", all.x = TRUE)\n\nZapisywanie wyników\n\nst_write(bnd_attr, \"results/dc_tracts_seg_div.gpkg\",  layer = \"tract_1990\", append = TRUE)"
  },
  {
    "objectID": "4d_miary_segregacji_ct.html#wizualizacja-danych",
    "href": "4d_miary_segregacji_ct.html#wizualizacja-danych",
    "title": "12  Analiza i wizualizacja zróżnicownia oraz segregacji rasowo-etnicznej na poziomie obszarów spisowych",
    "section": "12.5 Wizualizacja danych",
    "text": "12.5 Wizualizacja danych\n\nplot(bnd_attr[\"H\"])\n\n\n\n\n\n12.5.1 Kartogram złożony\nPrzestrzenny rozkład typów zróżnicowania i segregacji rasowo-etnicznej zostanie zwizualizowany wykorzystując jedną z palet dwuzmiennych (ang. bivariate pallette). Więcej informacji:\n\nhttps://www.joshuastevens.net/cartography/make-a-bivariate-choropleth-map/\nhttps://jakubnowosad.com/posts/2020-08-25-cbc-bp2/\n\n\nlibrary(pals)\nbivcol = function(pal){\n        tit = substitute(pal)\n        pal = pal()\n        ncol = length(pal)\n        image(matrix(seq_along(pal), nrow = sqrt(ncol)),\n              axes = FALSE, \n              col = pal, \n              asp = 1)\n        mtext(tit)\n}\n\n\npar(mfrow = c(3, 4), mar = c(1, 1, 2, 1))\nbivcol(arc.bluepink)\nbivcol(brewer.divdiv)\nbivcol(brewer.divseq)\nbivcol(brewer.qualseq)\nbivcol(brewer.seqseq1)\nbivcol(brewer.seqseq2)\nbivcol(census.blueyellow)\nbivcol(stevens.bluered)\nbivcol(stevens.greenblue)\nbivcol(stevens.pinkblue)\nbivcol(stevens.pinkgreen)\nbivcol(stevens.purplegold)\n\n\n\n\nDo wizualizacji typów segregacji i zróżnicowania rasowego wykorzystamy paletę stevens.bluered\n\nbivcol(stevens.bluered)\n\n\n\n\n\nstevens.bluered()\n\n[1] \"#e8e8e8\" \"#e4acac\" \"#c85a5a\" \"#b0d5df\" \"#ad9ea5\" \"#985356\" \"#64acbe\"\n[8] \"#627f8c\" \"#574249\"\n\n\n\n#legenda \nbiv_colors = stevens.bluered()\nnames(biv_colors) = c(\"LL\", \"ML\", \"HL\", \"LM\", \"MM\", \"HM\", \"LH\", \"MH\", \"HH\")\nbiv_colors\n\n       LL        ML        HL        LM        MM        HM        LH        MH \n\"#e8e8e8\" \"#e4acac\" \"#c85a5a\" \"#b0d5df\" \"#ad9ea5\" \"#985356\" \"#64acbe\" \"#627f8c\" \n       HH \n\"#574249\" \n\n\n\n\n12.5.2 Wizualizacja typów zróżnicowania oraz segregacji rasowej (biv_cls)\nDo wizualizacji typów segregacji i zróżnicowania rasowego wykorzystamy paletę stevens.bluered\n\n\nlibrary(tmap)\n\nh_mapa &lt;- tm_shape(bnd_attr) + \n  tm_polygons(fill = \"H\", \n              fill.scale = tm_scale(values = \"greens\", breaks = seq(0, 1, 0.2)),\n              fill.legend = tm_legend(title = \"H\", frame = FALSE, position = tm_pos_in(\"left\", \"bottom\"))) + \n  tm_layout(legend.text.size = 0.9,\n            legend.title.size=1.2,\n            frame = FALSE)\n\nh_mapa\n\n\n\ntmap_save(h_mapa, \"results/dc_estd1990.svg\")\n\n\nlibrary(tmap)\n\nestd_mapa &lt;- tm_shape(bnd_attr) + \n  tm_polygons(fill = \"Estd\", \n              fill.scale = tm_scale(values = \"blues\", breaks = seq(0, 1, 0.2)),\n              fill.legend = tm_legend(title = \"Estd\", frame = FALSE, position = tm_pos_in(\"left\", \"bottom\"))) + \n  tm_layout(legend.text.size = 0.9,\n            legend.title.size=1.2,\n            frame = FALSE)\n\nestd_mapa \n\n\n\ntmap_save(estd_mapa, \"results/dc_estd1990.svg\")\n\n\nlibrary(tmap)\n\ntypy_mapa &lt;- tm_shape(bnd_attr) + \n  tm_polygons(fill = \"biv_cls\", \n              fill.scale = tm_scale(values = biv_colors),\n              fill.legend = tm_legend(title = \"Typy\", frame = FALSE, position = tm_pos_in(\"left\", \"bottom\"))) + \n  tm_layout(legend.text.size = 0.9,\n            legend.title.size=1.2,\n            frame = FALSE)\n\ntypy_mapa\n\n\n\ntmap_save(typy_mapa, \"results/dc_biv1990.svg\")"
  },
  {
    "objectID": "4e_klasyfikacja.html#klasyfikacja-rasowo-etnicznej-struktury-ludności",
    "href": "4e_klasyfikacja.html#klasyfikacja-rasowo-etnicznej-struktury-ludności",
    "title": "13  Analiza zmian typów struktury rasowo-etnicznej ludności",
    "section": "13.1 Klasyfikacja rasowo-etnicznej struktury ludności",
    "text": "13.1 Klasyfikacja rasowo-etnicznej struktury ludności\nJedną z form prezentacji rasowo-etnicznej struktury ludności jest sklasyfikowanie jednostek agregacji, tak aby reprezentowały różne typy struktury rasowo-etnicznej ludności. Klasyfikacja stosowana jest np. dla każdego obszaru spisowego w mieście. Wyniki mogą być przedstawione w postaci tabeli pokazującej procentowy udział jednostek sklasyfikowanych jako dany typ lub mapy.\nPrzykładem zastosowania klasyfikacji jest projekt Mixed Metro (https://mixedmetro.com/) dostarczający mapy typów zróżnicowania rasowo-etnicznego dla lat 1990-2020 dla obszaru Stanów Zjednoczonych.\nW nieniejszym przykładzie obszary spisowe zostaną sklasyfikowane do 13 typów wyróżnionych na podstawie procentowego udziału grup rasowo-etnicznych.\n\nKryteria klasyfikacji\n\nTyp mało zróżnicowany:\n\nKryterium: grupa dominująca stanowi &gt;80% ogólnej liczby ludności.\n\nzdominowany przez białych (WL)\nzdominowany przez czarnych (BL)\nzdominowany przez Azjatów (AL)\nzdominowany przez Latynosów (HL)\n\n\nTyp średnio zróżnicowany (grupa dominująca stanowi 50%-80%):\n\nKryterium: grupa dominująca stanowi &lt;50%-80%&gt; ogólnej liczby ludności.\n\nzdominowany przez białych (WM)\nzdominowany przez czarnych (BM)\nzdominowany przez Azjatów (AM)\nzdominowany przez Latynosów (HM)\n\n\nTyp o dużym zróżnicowaniu (HD)\n\nKryterium: żadna z grup nie przekracza 50%."
  },
  {
    "objectID": "4e_klasyfikacja.html#przykład-typy-rasowo-etnicznej-struktury-ludności",
    "href": "4e_klasyfikacja.html#przykład-typy-rasowo-etnicznej-struktury-ludności",
    "title": "13  Analiza zmian typów struktury rasowo-etnicznej ludności",
    "section": "13.2 Przykład: Typy rasowo-etnicznej struktury ludności",
    "text": "13.2 Przykład: Typy rasowo-etnicznej struktury ludności\nW poniższym przykładzie wykorzystano dane na poziomie obszarów spisowych dla 1990 i 2020 roku dla obszaru District of Columbia. Obszary spisowe zostały sklasyfikowane do 13 typów rasowo-etnicznej struktury ludności. Następnie przeanalizowano liczbę obszarów spisowych wg typów w danym roku oraz wykonano macierz przejść pokazująca zmiany między dwoma latami.\n\n13.2.1 Dane\n\nlibrary(sf)\n\nLinking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE\n\nlist_race &lt;- c(\"WHITE\", \"BLACK\", \"ASIAN\", \"HISPANIC\", \"AM\", \"OTHER\")\n\ndat90 = st_read(\"data/data_geo/dc_tract_areal.gpkg\", layer = \"tract_areal_1990\")\n\nReading layer `tract_areal_1990' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/data_geo/dc_tract_areal.gpkg' \n  using driver `GPKG'\nSimple feature collection with 206 features and 8 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610830 ymin: 1915291 xmax: 1629412 ymax: 1936182\nProjected CRS: NAD83 / Conus Albers\n\ndat20 = st_read(\"data/data_geo/dc_tract_areal.gpkg\", layer = \"tract_areal_2020\")\n\nReading layer `tract_areal_2020' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/data_geo/dc_tract_areal.gpkg' \n  using driver `GPKG'\nSimple feature collection with 206 features and 11 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610830 ymin: 1915291 xmax: 1629412 ymax: 1936182\nProjected CRS: NAD83 / Conus Albers\n\n\n\nperc90 &lt;- dat90[,list_race]/dat90$POP\nperc20 &lt;- dat20[,list_race]/dat20$POP\n\n\n\n13.2.2 Obliczenie liczby obszarów spisowych według typu struktury rasowo-etnicznej ludności.\n\nLiczba obszarów spisowych w 1990 roku według typów.\n\ntable(cls_df$cls90)\n\n\n BL  BM  HD  WL  WM \n109  26  16  21  34 \n\n\nFunkcja prob.table() pozwala na obliczenie odsetka obszarów według danego typu, jeśli wynik wymnożymy przez 100 otrzymamy procenty. Funkcja round() zaokrągli wynik do określonej liczby miejsc po przecinku\n\ntab90 &lt;- prop.table(table(cls_df$cls90))*100\nround(tab90, 1)\n\nTen sam wynik co powyżej (udział procentowy) otrzymamy także wykonując następujące obliczenia:\n\n(table(cls_df$cls90)/sum(table(cls_df$cls90)))*100\n\nWyniki w dwóch powyższych tabelach pokazują, że w roku 1990 75 obszarów (co stanowi 38.5%) zostało sklasyfikowanych jako typ o dużym zróżnicowaniu (żadna grupa nie stanowiła powyżej 50%), a 69 obszarów (35.4%) jako obszary średnio zróżnicowane zdominowane przez białych.\n\n\nLiczba obszarów spisowych w 2020 roku według typów.\n\ntable(cls_df$cls20)\n\n\nBL BM HD WL WM \n48 29 43  1 85 \n\n\n\ntab20 &lt;- prop.table(table(cls_df$cls20))*100\nround(tab20, 1)\n\n\n  BL   BM   HD   WL   WM \n23.3 14.1 20.9  0.5 41.3 \n\n\n\n\n\n13.2.3 Macierz przejść (transition matrix)\nDo określenia zmian typów między latami wykorzystuje się macierz przejść (ang. transition matrix). Macierz przejść pokazuje ile jednostek zmieniło typ między jednym a drugim rokiem. Wartości na przekątnej pokazują ile jednostek nie zmieniło typu między jednym a drugim rokiem.\n\ntab &lt;- table(cls_df$cls90, cls_df$cls20)\ntab\n\n    \n     BL BM HD WL WM\n  BL 47 23 26  0 13\n  BM  1  4 13  0  8\n  HD  0  0  4  0 12\n  WL  0  0  0  1 20\n  WM  0  2  0  0 32\n\n\nW powyższej tabeli wiersz zawiera dane dla roku 1990, a kolumny dla roku 2020. Np. wartość 12 (ostatni rząd oraz 4 kolumna) oznacza, że 12 obszarów spisowych sklasyfikowanych w roku 1990 jako WM (mało zróżnicowane zdominowane przez białych) w roku 2020 zmieniło swój typ na HD (duże zróżnicowanie, żadna grupa nie stanowi więcej niż 50%).\nJeśli zsumujemy wartości w wierszach (rowSums) to otrzymamy liczbę obszarów spisowych według typów w 1990 roku (to samo otrzymamaliśmy wykonując polecenie table(cls_df$cls90))\n\nrowSums(tab)\n\n BL  BM  HD  WL  WM \n109  26  16  21  34 \n\n\nJeśli zsumujemy wartości w wierszach (colSums) to otrzymamy liczbę obszarów spisowych według typów w 2020 roku (to samo otrzymamaliśmy wykonując polecenie table(cls_df$cls10))\n\ncolSums(tab)\n\nBL BM HD WL WM \n48 29 43  1 85 \n\n\nPoniższa tabela przedstawia odsetek obszarów spisowych (np. 16.4% w 1990 zostało sklasyfikowanych jako HD, a w 2020 jako AM; 23.6% obszarów spisowych w roku 1990 oraz 20120 było sklasyfikowanych jako WM).\n\nround(prop.table(table(cls_df$cls90, cls_df$cls20))*100, 1)\n\n    \n       BL   BM   HD   WL   WM\n  BL 22.8 11.2 12.6  0.0  6.3\n  BM  0.5  1.9  6.3  0.0  3.9\n  HD  0.0  0.0  1.9  0.0  5.8\n  WL  0.0  0.0  0.0  0.5  9.7\n  WM  0.0  1.0  0.0  0.0 15.5"
  },
  {
    "objectID": "4e_klasyfikacja.html#wizualizacja-wyników",
    "href": "4e_klasyfikacja.html#wizualizacja-wyników",
    "title": "13  Analiza zmian typów struktury rasowo-etnicznej ludności",
    "section": "13.3 Wizualizacja wyników",
    "text": "13.3 Wizualizacja wyników\nDwie pierwsze ryciny pokazują przestrzenne rozmieszczenie typów struktury rasowo-etnicznej z zastosowaniem domyślnych kolorów (ten sam typ ma różny kolor w roku 1990 oraz w roku 2020). Mapy te nie nadają się do porównania między latami. Aby mapy były porównywalne muszą być wyświetlane w tych samych kolorach (dany typ musi mieć ten sam kolor na obu mapach)\n\nplot(cls_df[\"cls90\"])\n\n\n\n\n\nplot(cls_df[\"cls20\"])\n\n\n\n\n\n13.3.1 Ujednolicenie kolorów\nPakiet colorpicker dostarcza narzędzie do wyboru kolorów (https://cran.r-project.org/web/packages/colourpicker/vignettes/colourpicker.html) Po zainstalowaniu pakietu należy wybrać Addins - Colour Picker.\nWektor cls_color zawiera kolory przypisane poszczególnym typom struktury rasowo-etnicznej (Uwaga! Typy muszą być wymienione alfabetycznie).\n\ncls_color &lt;- c(\"AL\"= \"#CD5555\", \"AM\"= \"#FF6A6A\", \"BL\"= \"#006400\", \"BM\"= \"#32CD32\", \"HD\"= \"#8F8F8F\", \"HL\"= \"#5D478B\", \"HM\"= \"#9370DB\", \"IL\" = \"#1C86EE\", \"IM\" = \"#87CEFF\", \"OL\" = \"#8B2500\", \"OM\" = \"#CD661D\", \"WL\"= \"#FF8C00\", \"WM\"= \"#FFD700\")\n\nW następnym kroku należy wybrać te typy struktury, które wystąpiły w danym roku.\n\ncol90 &lt;- cls_color[names(cls_color)%in%unique(cls_df$cls90)]\ncol20 &lt;- cls_color[names(cls_color)%in%unique(cls_df$cls20)]\n\n\n\n13.3.2 Wizualizacja z pakietem tmap\nW poniższym przykładzie do wizualizacji typów zróżnicowania rasowo-etnicznego wykorzystano pakiet tmap.\n\nlibrary(tmap)\n\nmapa90 &lt;- tm_shape(cls_df) + \n  tm_polygons(fill = \"cls90\", \n              fill.scale = tm_scale(values = col90),\n              fill.legend = tm_legend(title = \"Typy\", frame = FALSE, position = tm_pos_in(\"left\", \"bottom\"))) + \n  tm_layout(legend.text.size = 0.9,\n            legend.title.size=1.2,\n            frame = FALSE)\n\nmapa20 &lt;- tm_shape(cls_df) + \n  tm_polygons(fill = \"cls20\", \n              fill.scale = tm_scale(values = col20),\n              fill.legend = tm_legend(title = \"Typy\", frame = FALSE, position = tm_pos_in(\"left\", \"bottom\"))) + \n  tm_layout(legend.text.size = 0.9,\n            legend.title.size=1.2,\n            frame = FALSE)\n\ntmap_arrange(mapa90, mapa20, ncol = 2)\n\n\n\n\n\n\n13.3.3 Wizualizacja z pakietem ggplot2\nPoniższy przykład pokazuje, jak w R wyświetlić dane dla 1990 oraz 2020 roku w tej samej palecie u używając pakietu ggplot2.\n\nlibrary(ggplot2)\nlibrary(patchwork)\np1 &lt;- ggplot(data = cls_df) +\n  geom_sf(aes(fill = cls90)) +\n  scale_fill_manual(values = col90) + \n  labs(title = \"District of Columbia, 1990\") + \n  theme_bw() +\n  theme(legend.position=\"bottom\") + \n  guides(fill = guide_legend(nrow = 2))\n\np2 &lt;- ggplot(data = cls_df) +\n  geom_sf(aes(fill = cls20)) +\n  scale_fill_manual(values = col20) + \n  labs(title = \"District of Columbia, 2020\") + \n  theme_bw() +\n  theme(legend.position=\"bottom\") + \n  guides(fill = guide_legend(nrow = 2))\n  \n\n#wyswietlenie wykresow obok siebie\np1 + p2"
  },
  {
    "objectID": "4f_analiza_krajobrazowa.html#dane",
    "href": "4f_analiza_krajobrazowa.html#dane",
    "title": "14  Metody analizy krajobrazowej",
    "section": "14.1 Dane",
    "text": "14.1 Dane\n\ncls_df &lt;- st_read(\"data/data_geo/dc_results.gpkg\", layer = \"cls1990_2020\")\n\nReading layer `cls1990_2020' from data source \n  `/home/anna/DYDAKTYKA/analiza_wizualizacja_struktury_ludnosci/data/data_geo/dc_results.gpkg' \n  using driver `GPKG'\nSimple feature collection with 206 features and 3 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 1610830 ymin: 1915291 xmax: 1629412 ymax: 1936182\nProjected CRS: NAD83 / Conus Albers\n\n\n\nPrzekodowanie wartości używając funkcji recode() z pakietu dplyr\n\ncls_df$cls90 = recode(cls_df$cls90, \"WL\"= 1, \"WM\" = 2, \"BL\" = 3, \"BM\" = 4, \"AL\" = 5, \"AM\" = 6, \"HL\" = 7, \"HM\" = 8, \"IL\" = 9, \"IM\" = 10, \"OL\" = 11, \"OM\" = 12, \"HD\" = 13)\n\n\n\nRasteryzacja\nFunkcja fasterize() wymaga zdefiniowania kilku argumentów:\n\nsf - obiekt sf, który ma być zrasteryzowany\nraster - “pusta” warstwa rastrowa zawierająca parametry rastra - zasięg oraz rozdzielczość\nfield - pole, wg którego ma być wykonana rasteryzacja\nfun - funkcja określająca operację wykonywaną w przypadku nakładających się poligonów.\n\n\nStworzenie “pustego” rastra\nZostanie utworzony raster o rozdzielczości 100 m o zasięgu pobranym z warstwy cls_df.\n\nlibrary(terra)\nrast &lt;- rast(cls_df, res = 100)\nrast\n\nclass       : SpatRaster \ndimensions  : 209, 186, 1  (nrow, ncol, nlyr)\nresolution  : 100, 100  (x, y)\nextent      : 1610830, 1629430, 1915291, 1936191  (xmin, xmax, ymin, ymax)\ncoord. ref. : NAD83 / Conus Albers (EPSG:5070) \n\n\n\n\nStworzenie rastra zawierającego typy zróżnicowania rasowo-etnicznego w 1990 roku\n\ncls = rasterize(cls_df, rast, field = \"cls90\")\n\n\n\nWyświetlenie rastra zawierającego typy zróżnicowania rasowo-etnicznego w 1990 roku\n\n#kolory przypisane do poszczególnych typów zróżnicowania rasowo-etncznego w kolejności WL, WM, BL, BM, AL, AM, HL, HM, IL, IM, OL, OM, HD.\ncls_color =c(\"#FF8C00\", \"#FFD700\", \"#006400\", \"#32CD32\", \"#CD5555\", \"#FF6A6A\", \"#5D478B\", \"#9370DB\", \"#1C86EE\", \"#87CEFF\", \"#8B2500\", \"#CD661D\",\"#8F8F8F\")\n\ncoltb &lt;- data.frame(value=1:13, col = cls_color)\n\n#przypisanie tabeli kolorow do rastra\ncoltab(cls) &lt;- coltb\n\n#wyswietlanie rastra we właściwych kolorach\nplot(cls)"
  },
  {
    "objectID": "4f_analiza_krajobrazowa.html#obliczanie-metryk-krajobrazowych",
    "href": "4f_analiza_krajobrazowa.html#obliczanie-metryk-krajobrazowych",
    "title": "14  Metody analizy krajobrazowej",
    "section": "14.2 Obliczanie metryk krajobrazowych",
    "text": "14.2 Obliczanie metryk krajobrazowych\nKomórki rastra, którym przypisano poszczególne typy zróżnicowania rasowo-etnicznego tworzą określoną mozaikę rasowo-etniczną. Taką mozaikę można opisać za pomocą metryk krajobrazowych. W R metryki krajobrazowe można obliczyć używając pakietu landscapemetrics. Metryki krajobrazowe mogą być obliczone na poziomie pojedyńczych płatów (ang. patch), dla danej klasy (ang. class), dla całego krajobrazu (ang. landscape). Poniżej zostaną wyliczone wybrane metryki dla poszczególnych klas.\n\nlibrary(landscapemetrics)\n\nWyświetlenie metryk krajobrazowych, które można wyliczyć na poziomie klasy. Tabela zawiera skróconą nazwę wskaźnika (metric), pełną nazwę wskaźnika (name), rodzaj metryki (type, np. aggregation metric, shape_metric), nazwę funkcji obliczającej dany wskaźnik w pakiecie landscapemetrics (function_name).\n\nclass_metr = list_lsm(level = \"class\")\n\n\nhead(class_metr)\n\n# A tibble: 6 × 5\n  metric  name               type                 level function_name\n  &lt;chr&gt;   &lt;chr&gt;              &lt;chr&gt;                &lt;chr&gt; &lt;chr&gt;        \n1 ai      aggregation index  aggregation metric   class lsm_c_ai     \n2 area_cv patch area         area and edge metric class lsm_c_area_cv\n3 area_mn patch area         area and edge metric class lsm_c_area_mn\n4 area_sd patch area         area and edge metric class lsm_c_area_sd\n5 ca      total (class) area area and edge metric class lsm_c_ca     \n6 cai_cv  core area index    core area metric     class lsm_c_cai_cv \n\n\n\n14.2.1 Obliczanie metryk krajobrazowych dla typów zróżnicowania rasowo-etniczego w 1990 roku.\nPoniżej zostaną obliczone 4 metryki krajobrazowe:\n\nnp - liczba płatów,\nlpi - stosunek powierzchni największego płata danego typu do powierzchni całego obszaru\nPLAND - procent obszaru zajęty przez dany typ zróżnicowania\nAI - poziom agregacji (0 – pełne rozproszenie, komórki tego samego typu nie graniczą ze sobą; 100 – jeden płat danego typu).\n\n\nlm = calculate_lsm(cls, level = (\"class\"), what = c(\"lsm_c_np\", \"lsm_c_lpi\",  \"lsm_c_pland\", \"lsm_c_ai\"))\n\nWarning: Only using 'what' argument.\n\n\nZmiana formatu wyświetlania tabeli z “długiego” na “szeroki”.\n\nlibrary(tidyverse)\nlm_df = pivot_wider(lm[, c(\"class\", \"metric\", \"value\")], names_from = metric, values_from = value)\n\nWartości metryk krajobrazowych w 1990 roku.\n\nlm_df\n\n# A tibble: 5 × 5\n  class    ai   lpi    np pland\n  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1     1  95.3 16.2      5 17.5 \n2     2  92.2 12.0      9 18.7 \n3     3  96.7 49.0      3 49.1 \n4     4  90.9  2.94    10 11.4 \n5    13  91.6  1.22     3  3.26\n\n\nTabela zawierająca kod liczbowy oraz tekstowy typu zróżnicowania rasowo-etnicznego\n\ncls_code = data.frame(cls = c(\"WL\", \"WM\", \"BL\", \"BM\", \"AL\", \"AM\", \"HL\", \"HM\", \"IL\", \"IM\",\"OL\",\"OM\", \"HD\"), class = 1:13)\nresults = merge(cls_code, lm_df, by = \"class\", all.x = TRUE)\n\nZapisanie metryk obliczonych dla poszczególnych klas do pliku.\n\nwrite.csv(results, \"results/landscape_metrics.csv\", row.names = FALSE)\n\n\n\n14.2.2 Obliczenie metryk krajobrazowych na poziomie całego obszaru\nObliczenie liczby płatów\n\nnp = lsm_l_np(cls)\nnp\n\n# A tibble: 1 × 6\n  layer level     class    id metric value\n  &lt;int&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt;\n1     1 landscape    NA    NA np        30\n\n\n\nlpi = lsm_l_lpi(cls)\nlpi\n\n# A tibble: 1 × 6\n  layer level     class    id metric value\n  &lt;int&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt;\n1     1 landscape    NA    NA lpi     49.0"
  },
  {
    "objectID": "4f_analiza_krajobrazowa.html#prezentacja-wyników",
    "href": "4f_analiza_krajobrazowa.html#prezentacja-wyników",
    "title": "14  Metody analizy krajobrazowej",
    "section": "14.3 Prezentacja wyników",
    "text": "14.3 Prezentacja wyników\n\nplot(cls, main = \"1990\")\n\n\n\n\n\nresults %&gt;% \n  mutate_if(is.numeric, round, digits=2) %&gt;% \n  kbl() %&gt;%\n  kable_classic_2(full_width = F) %&gt;%\n  column_spec(1, background = cls_color)\n\n\n\n\nclass\ncls\nai\nlpi\nnp\npland\n\n\n\n\n1\nWL\n95.34\n16.17\n5\n17.55\n\n\n2\nWM\n92.16\n12.05\n9\n18.72\n\n\n3\nBL\n96.73\n49.04\n3\n49.07\n\n\n4\nBM\n90.87\n2.94\n10\n11.41\n\n\n5\nAL\nNA\nNA\nNA\nNA\n\n\n6\nAM\nNA\nNA\nNA\nNA\n\n\n7\nHL\nNA\nNA\nNA\nNA\n\n\n8\nHM\nNA\nNA\nNA\nNA\n\n\n9\nIL\nNA\nNA\nNA\nNA\n\n\n10\nIM\nNA\nNA\nNA\nNA\n\n\n11\nOL\nNA\nNA\nNA\nNA\n\n\n12\nOM\nNA\nNA\nNA\nNA\n\n\n13\nHD\n91.63\n1.22\n3\n3.26\n\n\n\n\n\n\n\n\n14.3.1 Interpretacja wyników\nMetryki krajobrazowe zastosowane do opisania krajobrazu zróżnicowania rasowo-etnicznego dostarczają dodatkowych informacji na temat przestrzennego rozkładu struktury rasowo-etnicznej na analizowanym obszarze. Typy o małym zróżnicowaniu rasowo-etnicznym to obszary zdominowane przez jedną grupę rasowo-etniczną, w których nie zachodzi integracja między grupami rasowo-etnicznymi. Typy o średnim i dużym zróżnicowaniu rasowym reprezentują obszary zamieszkałe przez kilka grup rasowo-etnicznych. Z punktu widzenia indywidualnego człowieka, obszar objęty jednym dużym płatem zdominowanym przez daną grupę rasowo-etniczną jest postrzegany jako obszar o większej segregacji niż obszar z większą liczbą małych płatów. Natomiast, duże płaty obszarów o dużym zróżnicowaniu rasowym wskazują, że integracja między poszczególnymi grupami rasowo-etnicznymi zachodzi na większą skalę przestrzenną.\nW 1990 roku District of Columbia podzielony był na 30 enklaw rasowo-etnicznych (płatów) należących do 5 typów zróżnicowania rasowo-etnicznego (WL, WM, BL, BM, HD):\n\n8 enklaw, zajmujących 66,6 % powierzchni należało do typów mało zróżnicowanych\n19 enkkaw, zajmujących 30,1% powierzchni należało do typów średnio zróżnicowanych\n4 enklawy, zajmujące 3,3% powierzchni należały do typu o dużym zróżnicowaniu rasowo-etnicznym.\n\nNajwiększą powierzchnię (49%) zajmował typ “BL” - mało zróżnicowany zdominowany przez czarnych. Największa enklawa rasowo-etniczna zajmowała 49% powierzchni i należała do typu BL."
  },
  {
    "objectID": "5a_organizacja_projektu.html#założenia-projektu",
    "href": "5a_organizacja_projektu.html#założenia-projektu",
    "title": "15  Organizacja projektu",
    "section": "15.1 Założenia projektu",
    "text": "15.1 Założenia projektu\n\nCelem ćwiczeń jest przeprowadzenie analizy zróżnicowania przestrzennego oraz zmienności czasowej rasowo-etnicznej struktury ludności wybranego hrabstwa w Stanach Zjednoczonych w latach 1990-2020 oraz przedstawienie wyników w postaci posteru oraz prezentacji multimedialnej.\nĆwiczenia mają na celu wykształcenie następujących umiejętności:\n\nrealizacja projektów grupowych;\ndobór materiałów do form prezentacji (poster, prezentacja multimedialna, raport pisemny);\nwykonywanie analizy danych oraz wizualizacji w środowisku R (w tym implementacja własnych funkcji pozwalających na obliczanie np. miar segregacji rasowej).\n\nPodczas ćwiczeń realizowany będzie jeden projekt pt. “Analiza i wizualizacja rasowo-etnicznej struktury ludności w latach 1990-2020 w wybranym hrabstwie Stanów Zjednoczonych” obejmujący zagadnienia:\n\nJak zmieniała się struktura rasowo-etniczna ludności w hrabstwie w latach 1990, 2000, 2010, 2020 w podziale na kategorie rasowo-etniczne?\nJak zmieniało się zróżnicowanie oraz segregacja rasowa w hrabstwie w latach 1990, 2000, 2010, 2020 wykorzystując miary segregacji (H, D) oraz zróżnicowania rasowego (E, Estd) obliczone dla całego hrabstwa?\nJak zmienia się wartość wskaźników zróżnicowania rasowego oraz segregacji rasowej w zależności od poziomu agregacji danych (bloki spisowe vs obszary spisowe)?\nJak zmieniały się typy rasowo-etnicznej struktury ludności w hrabstwie w okresie 1990-2020?\nPrzestrzenny rozkład segregacji oraz zróżnicowania rasowo-etnicznego w hrabstwie w latach 1990-2020.\nZastosowanie metod analizy krajobrazowej w analizie rasowo-etnicznej struktury ludności.\n\nProjekt wykonywany jest w grupach składających się z 4 osób.\n\n4-osobowe grupy przygotowują opracowanie dla lat 1990-2020\nw wyjątkowych sytuacjach, jeśli grupa liczy 3 osoby, przygotowywane jest opracowanie dla lat 1990-2010.\n\nKażdy uczestnik grupy ma przydzielone jedno hrabstwo w określonym roku (np. San Francisco w 1990 roku), dla którego będzie wykonywał poszczególne analizy. Ponadto każdy uczestnik grupy analizuje także zmiany między dwoma wybranymi latami (korzytając przy tym także z danych przygotowanych przez innego uczestnika grupy).\nW oparciu o cząstkowe wyniki grupa opracowuje poster oraz prezentację multimedialną pt. “Analiza i wizualizacja rasowo-etnicznej struktury ludności w latach 1990-2020 w wybranym hrabstwie Stanów Zjednoczonych”\n\nPrzy opracowaniu posteru oraz prezentacji ważna jest odpowiednia selekcja treści oraz dostosowanie wizualizacji do formy prezentacji."
  },
  {
    "objectID": "5a_organizacja_projektu.html#organizacja-pracy-w-grupie",
    "href": "5a_organizacja_projektu.html#organizacja-pracy-w-grupie",
    "title": "15  Organizacja projektu",
    "section": "15.2 Organizacja pracy w grupie",
    "text": "15.2 Organizacja pracy w grupie\n\nKażda osoba ma przydzielony swój zestaw danych (dane dla wybranego hrabstwa dla lat 1990,2000, 2010, 2020), na którym będzie pracować w trakcie zajęć.\nMożna (a nawet wskazane jest) konsultowanie się członków grupy w szukaniu najlepszego rozwiązania.\nWykonanie niektórych ćwiczeń będzie wymagało użycia danych przygotowanych przez pozostałych członków grupy.\nWykonanie posteru oraz prezentacji multimedialnej wymaga zestawienia wyników otrzymanych przez wszystkich członków grupy.\nProjekt został podzielony na kilka etapów, obejmujących przygotowanie danych oraz poszczególne etapy analizy.\nWażna jest odpowiednia organizacja projektu, aby mieć łatwy dostęp do danych oraz wyników analiz wykonanych na poprzednich ćwiczeniach. ​"
  },
  {
    "objectID": "5a_organizacja_projektu.html#organizacja-pracy",
    "href": "5a_organizacja_projektu.html#organizacja-pracy",
    "title": "15  Organizacja projektu",
    "section": "15.3 Organizacja pracy",
    "text": "15.3 Organizacja pracy\nPrzed przystąpieniem do wykonania ćwiczeń:\n\nStwórz na komputerze folder PROJEKT_[HRABSTWO].\nStwórz podfoldery, w których będą przechowywane dane wejściowe, dane powstałe jako wynik analiz, wyniki analiz, skrypty (foldery: data, results, scripts).\nKażde ćwiczenie wykonuj w osobnym pliku – skrypcie (ułatwia to kontrolę błędów).\nPo każdym ćwiczeniu przygotuj jedną geopaczkę zawierającą wyniki dla każdego z lat: 1990, 2000, 2010, 2020\nPo każdym ćwiczeniu w osobnym folderze zapisuj wyniki analiz, tabele, mapy, które będą potrzebne do wykonania końcowej prezentacji oraz posteru.\nDane warto także przechowywać na OneDrive. Zachowaj tam taką samą strukturę folderów, jak na komputerze.\n\n\n\n15.3.1 Folder data\nFolder data składa się z 2 podfolderów:\n\ndata_geo przechowuje dane przestrzenne zapisane w formacie geopaczki. W folderze tym zostaną zapisane 3 geopaczki, będące wynikiem przygotowania danych:\n\n[hrabstwo]_tracts.gpkg - granice obszarów spisowych (census tract) dla lat 1990, 2000, 2010, 2020 (nazwa warstw: tract*[year]). Plik przygotowany w ramach ćwiczenia 3.\n[hrabstwo]_tracts_attr.gpkg - granice obszarów spisowych (census tract) z dołączoną informacją o rasowo-etnicznej strukturze ludności dla lat 1990, 2000, 2010, 2020 (nazwa warstw: tract_attr[year]). Plik przygotowany w ramach ćwiczenia 3.\n[hrabstwo]_tracts_areal.gpkg - granice obszarów spisowych z lat 1990, 2000, 2010 ujednolicone do granic z roku 2020. Plik przygotowany w ramach ćwiczenia 6.\n\ndata_attr przechowuje pliki tekstowe (.csv) zawierajace informacje o rasowo-etnicznej strukturze ludności na poziomie bloków oraz obszarów spisowych. Dane te zostały przygotowane w ramach ćwiczenia 3.\n\n[hrabstwo]_blocks_1990_attr.csv\n[hrabstwo]_blocks_2000_attr.csv\n[hrabstwo]_blocks_2010_attr.csv\n[hrabstwo]_blocks_2020_attr.csv\n[hrabstwo]_tracts_1990_attr.csv\n[hrabstwo]_tracts_2000_attr.csv\n[hrabstwo]_tracts_2010_attr.csv\n[hrabstwo]_tracts_2020_attr.csv\n\n\n\n\n15.3.2 Folder results\n\nFolder results zawiera podfolder figures, w którym należy zapisać wynikowe mapy w formacie svg oraz png.\nPonadto w folderze zapisywane będą także wynikowe geopaczki oraz inne zestawienia.\nWarto w folderze results dodać dodatkowe foldery, w celu uporządkowania otrzmywanych wyników.\n\n\n\n15.3.3 Folder scripts\nFolder ten zawierać będzie skrypty R (najlepiej w formacie qmd) z kodem potrzebnym do wykonania poszczególnych ćwiczeń. Każdy plik powinien być nazwany cwiczenie1.qmd, cwiczenie2.qmd itd."
  },
  {
    "objectID": "5b_zakres_cwiczen.html",
    "href": "5b_zakres_cwiczen.html",
    "title": "16  Zakres ćwiczeń",
    "section": "",
    "text": "Ćwiczenie 1: Wprowadzenie do tematyki ćwiczeń. Omówienie założeń projektu oraz organizacja pracy grupowej.\nĆwiczenie 2: Opracowanie narzędzi w R do obliczania miar segregacji oraz zróżnicowania rasowo-etnicznego.\n\nCel ćwiczenia: stworzenie zestawu narzędzi, które posłużą obliczeniu tradycyjnych miar segregacji oraz zróżnicowania rasowego. Narzędzia te będą wykorzystywane na kolejnych ćwiczeniach.\n\nĆwiczenie 3: Źródła danych o rasowo-etnicznej strukturze ludności.\n\nCel ćwiczenia: przygotowanie danych do analizy obejmujące: selekcję danych dla analizowanego hrabstwa, reklasyfikację kategorii rasowo-etnicznych oraz agregację danych do obszarów spisowyh. Dane te będą podstawą wykonania pozostałych ćwiczeń.\n\nĆwiczenie 4: Wykorzystanie tradycyjnych miar segregacji oraz zróżnicowania rasowego w analizie rasowo-etnicznej struktury ludności w wybranym hrabstwie.\n\nCel ćwiczenia: obliczenie miar segregacji oraz zróżnicowania rasowo-etnicznego dla analizowanego hrabstwa wykorzystując dane zaagregowane do bloków spisowych oraz obszarów spisowych. W trakcie ćwiczenia zostaną wykorzystane narzędzia przygotowane w Ćwiczeniu 2 oraz dane przygotowane w ćwiczeniu 3.\n\nĆwiczenie 5: Opracowanie posteru przedstawiającego zmiany poziomu segregacji i zróżnicowania rasowo-etnicznego w wybranym hrabstwie w latach 1990-2020.\n\nCel ćwiczenia: każda grupa przygotowuje 1 poster w formacie A0, pionowym przedstawiający zmiany w rasowo-etnicznej strukturze ludności, w tym poziomu segregacji oraz zróżnicowania.\n\nĆwiczenie 6: Przestrzenny rozkład grup rasowo-etnicznych w wybranym hrabstwie.\n\nCel ćwiczenia: analiza przestrzennego rozmieszczenia grup rasowo-etnicznych w wybranym hrabstwie obejmująca procentowy udział grup rasowo-etnicznych oraz wartości wskaźnika zróżnicowania rasowo-etnicznego (entropia).\nW ćwczeniu zostaną wykorzystane dane na poziomie obszarów spisowych (census tract). Wyniki ćwiczenia zostaną zaprezentowane także w postaci map.\nUwaga! Ćwiczenie wymaga transformacji danych zagregowanych do obszarów spisowych z lat 1990, 2000, 2010 do granic z 2020 roku. Do wykonania ćwiczenia potrzebne są dane przygotowane przez innych członków grupy. W tym celu zostanie wykorzystana metoda powierzchniowo-wagowa.\n\nĆwiczenie 7: Przestzenny rozkład segregacji rasowo-etnicznej w wybranym hrabstwie.\n\nCel ćwiczenia: wizualizacja przestrzennego rozkładu segregacji rasowo-etnicznej obliczonej dla każdego obszaru spisowego. Wyniki zostaną przedstawione w postaci map segregacji, zróżnicowania oraz klasyfikacji na typy segregacji/zróżnicowania rasowo-etnicznego.\n\nĆwiczenie 8: Analiza zmian typów struktury rasowo-etnicznej ludności.\n\nCel ćwiczenia: Analiza zmian typów struktury rasowo-etnicznej ludności obejmuje klasyfikację obszarów spisowych na 13 typów struktury rasowo-etnicznej oraz analizę zmian typów między latami.\nUwaga! Analiza zmian między latami (1990-2000, 2000-2010, 2010-2020, 1990-2020) wymaga zestawienia danych przygotowanych przez różnych członków grupy.\nKażdy uczestnik grupy wykonuje analizę zmian dla dwóch wybranych lat: 1990-2000, 2000-2010, 2010-2020 oraz 1990-2020.\n\nĆwiczenie 9: Opracowanie prezentacji multimedialnej przedstawiającej analizę zmian przetrzennego rozkładu rasowo-etnicznej struktury ludności oraz zróżnicowania rasowo-etnicznego w hrabstwie w latach 1990-2020.\n\nCel ćwiczenia: każda grupa przygotowuje 10 minutową prezentację multimedialną przedstawiającą wyniki zmian przetrzennego rozkładu rasowo-etnicznej struktury ludności oraz zróżnicowania rasowo-etnicznego w hrabstwie w latach 1990-2020. W prezentacji zostaną wykorzystane wybrane wyniki z ćwiczeń 6-8.\n\nĆwiczenie 10: Zastosowanie metod analizy krajobrazowej w analizie rasowo-etnicznej struktury ludności\n\nCel ćwiczenia: Analiza rasowo-etnicznej struktury ludności z zastosowaniem metod analizy krajobrazu.\nUwaga! Wykonanie ćwiczenia wymaga klasyfikacji przygotowanej w trakcie ćwiczenia 8 (13 typów rasowo-etnicznej struktury ludności).\n\nĆwiczenie 11: Opracowanie posteru nt. Analiza zmian rasowo-etnicznej struktury ludności w latach 1990-2020 w wybranym hrabstwie Stanów Zjednoczonych\n\nCel ćwiczenia: każda grupa przygotowuje 1 poster w formacie A0, pionowym przedstawiający wyniki analizy zmian rasowo-etnicznej struktury ludności w wybranym hrabstwie.\nPrzy wykonywaniu posteru zostaną wykorzystane wyniki uzyskane w trakcie wykonywania projektu.\n\nĆwiczenie 12: Opracowanie prezentacji nt. Analiza zmian rasowo-etnicznej struktury ludności w latach 1990-2020 w wybranym hrabstwie Stanów Zjednoczonych\n\nCel ćwiczenia: każda grupa przygotowuje 15-minutową prezentację multimedialną\n\nĆwiczenie 13 i 14: Przedstawienie posterów i prezentacji multimedialnych.\n\nPrzedstawienie oraz dyskusja posterów oraz prezentacji multimedialnych przedstawionych przez każdą grupę."
  },
  {
    "objectID": "cwiczenie_1.html#cel-ćwiczenia",
    "href": "cwiczenie_1.html#cel-ćwiczenia",
    "title": "17  Ćwiczenie 1",
    "section": "17.1 Cel ćwiczenia",
    "text": "17.1 Cel ćwiczenia\n\nWprowadzenie do tematyki ćwiczeń\nOmówienie założeń projektu\nOrganizacja pracy grupowej"
  },
  {
    "objectID": "cwiczenie_1.html#organizacja-pracy-w-projekcie",
    "href": "cwiczenie_1.html#organizacja-pracy-w-projekcie",
    "title": "17  Ćwiczenie 1",
    "section": "17.2 Organizacja pracy w projekcie",
    "text": "17.2 Organizacja pracy w projekcie\n\nPodział na grupy 4-osobowe\nWybór hrabstwa do analizy\n\nKażdy członek grupy ma przypisany dane z jednego roku\n\nOrganizacja środowiska pracy na komputerze\n\nUtworzenie niezbędnych folderów"
  },
  {
    "objectID": "cwiczenie_2.html#cel-ćwiczenia",
    "href": "cwiczenie_2.html#cel-ćwiczenia",
    "title": "18  Ćwiczenie 2",
    "section": "18.1 Cel ćwiczenia",
    "text": "18.1 Cel ćwiczenia\nCelem ćwiczeń jest stworzenie zestawu narzędzi (funkcji w języku R), które posłużą obliczeniu tradycyjnych miar segregacji oraz zróżnicowania rasowego. Funkcje/narzędzia będą wykorzystywane na kilku następych zajęciach.\nNależy stworzyć narzędzia obliczające:\n\nentropię \\(E\\) oraz entropię standaryzowaną \\(E_{std}\\)\nwskaźnik teorii informacji \\(H\\)\nwskaźnik niepodobieństwa \\(D\\)\n\nStworzone funkcje należy przetestować na kilku przykładach (dane testowe zostały zapisane w plikach przyklad_a.csv, przyklad_b.csv, przyklad_c.csv, przyklad_d.csv, dane_przykladowe.csv)"
  },
  {
    "objectID": "cwiczenie_2.html#zróżnicowanie-oraz-segregacja-rasowa-w-analizowanym-obszarze",
    "href": "cwiczenie_2.html#zróżnicowanie-oraz-segregacja-rasowa-w-analizowanym-obszarze",
    "title": "18  Ćwiczenie 2",
    "section": "18.2 Zróżnicowanie oraz segregacja rasowa w analizowanym obszarze",
    "text": "18.2 Zróżnicowanie oraz segregacja rasowa w analizowanym obszarze\n\nTradycyjne miary segregacji oraz zróżnicowania rasowo-etnicznego obliczane są na podstawie danych tabelarycznych przedstawiających liczbę osób wg kategorii rasowo-etnicznych w jednostkach spisowych, na które zostało podzielone miasto. Miary te obliczane są na poziomie hrabstw lub miast.\nObliczenie miar zróżnicowania rasowo-etnicznego wymaga zsumowania danych ze wszystkich jednostek spisowych, tak aby uzyskać liczbę ludności wg grup rasowo-etnicznych w całym obszarze analizy (np. 80W, 80B, 80A, 80L).\nObliczenie wskaźników segregacji rasowej wymaga podzielenia obszaru na mniejsze jednostki. Wartość wskaźnika zależy od przyjętego podziału na jednostki przestrzenne.\n\n\n\n\nRycina 1. Zróżnicowanie oraz segregacja rasowa w analizowanym obszarze (np. dla całego miasta)"
  },
  {
    "objectID": "cwiczenie_2.html#miary-zróżnicowania-rasowo-etnicznego",
    "href": "cwiczenie_2.html#miary-zróżnicowania-rasowo-etnicznego",
    "title": "18  Ćwiczenie 2",
    "section": "18.3 Miary zróżnicowania rasowo-etnicznego",
    "text": "18.3 Miary zróżnicowania rasowo-etnicznego\n\n18.3.1 Entropia\nMiarą zróżnicowania rasowego jest entropia obliczana według wzoru:\n\\[E = -\\sum p_{k} \\log p_{k}\\] Obliczenia należy wykonać dla jednostek dla których liczba ludnosci jest większa od 0.\n\n\n18.3.2 Entropia standaryzowana\nEntropia standaryzowana obliczana jest według wzoru:\n\\[E_{std} = \\frac{E}{E_{max}}\\]\ngdzie \\(E\\) - oznacza entropię, a \\(E_{max}\\) oznacza entropię maksymalną.\nEntropia obliczana jest według wzoru: \\[E = -\\sum p_{k} \\log p_{k}\\]\nEntropia maksymalna obliczana jest \\(E_{max} = log(K)\\), gdzie K to liczba grup rasowo-etnicznych."
  },
  {
    "objectID": "cwiczenie_2.html#miary-segregacji-rasowo-etnicznej",
    "href": "cwiczenie_2.html#miary-segregacji-rasowo-etnicznej",
    "title": "18  Ćwiczenie 2",
    "section": "18.4 Miary segregacji rasowo-etnicznej",
    "text": "18.4 Miary segregacji rasowo-etnicznej\n\n18.4.1 Wskaźnik niepodobieństwa D\nWskaźnik niepodobieństwa D obliczany jest według wzoru:\n\\[D = \\frac{1}{2}\\sum_{i}^{N}\\left\\lvert \\frac{a_{i}}{A} - \\frac{b_{i}}{B} \\right\\rvert\\]\n\n\\(a_{i}\\) - liczba ludności grupy 1 w jednostce spisowej \\(i\\)\nA - liczba ludności grupy 1 w analizowanym obszarze\n\\(b_{i}\\) - liczba ludności grupy 2 w jednostce spisowej \\(i\\)\nB - liczba ludności grupy 2 w analizowanym obszarze\n\n\n\n18.4.2 Wskaźnik teorii informacji H.\nWskaźnik teorii informacji H obliczany jest według wzoru:\n\\[H = \\sum_{i=1}^{N}\\left [ \\frac{t_{i}(E - E_{i})}{ET} \\right ]\\]\ngdzie\n\n\\(E_{i}\\) - entropia danej jednostki spisowej i,\n\\(E\\) - entropia obliczona dla całego obszaru\n\\(t_{i}\\) - liczba ludności danej jednostki spisowej i,\n\\(T\\) - liczba ludności całego obszaru"
  },
  {
    "objectID": "cwiczenie_2.html#obliczanie-miar-zróżnicowania-rasowego-oraz-segregacji-rasowej-w-r.",
    "href": "cwiczenie_2.html#obliczanie-miar-zróżnicowania-rasowego-oraz-segregacji-rasowej-w-r.",
    "title": "18  Ćwiczenie 2",
    "section": "18.5 Obliczanie miar zróżnicowania rasowego oraz segregacji rasowej w R.",
    "text": "18.5 Obliczanie miar zróżnicowania rasowego oraz segregacji rasowej w R.\n\n18.5.1 Obliczanie entropii\nEntropia \\(E\\) obliczana jest w następujący sposób:\n\\[\n\\begin{aligned}\nE = - \\left [ \\frac{WHITE}{POP} \\log \\left ( \\frac{WHITE}{POP} \\right ) +\n\\frac{BLACK}{POP} \\log \\left ( \\frac{BLACK}{POP} \\right ) +\n\\frac{ASIAN}{POP} \\log \\left ( \\frac{ASIAN}{POP} \\right ) +\n\\frac{HISPANIC}{POP} \\log \\left ( \\frac{HISPANIC}{POP} \\right ) +\n\\frac{INDIAN}{POP} \\log \\left ( \\frac{INDIAN}{POP} \\right ) +\n\\frac{OTHERRACE}{POP} \\log \\left ( \\frac{OTHERRACE}{POP} \\right )\n\\right ]\n\\end{aligned}\n\\]\n\n\nĆwiczenie 1\nOblicz entropię dla danych zawartych w plikach przyklad_a.csv, przyklad_b.csv, przyklad_c.csv, przyklad_d.csv, dane_przykladowe.csv\n\n\nĆwiczenie 2\nNapisz funkcję w R obliczającą entropię.\nKilka uwag do obliczania entropii:\n\nPOP&gt;0 - nie można dzielić przez 0\nlog(0) jest nieokreślony.\n\n\nPrzydatne rozwiązania - operacje na wektorach w R\n\na = c(0.125, 0.125, 0.25, 0.5)\na*2\n\n[1] 0.25 0.25 0.50 1.00\n\nlog2(a)\n\n[1] -3 -3 -2 -1\n\na*log2(a)\n\n[1] -0.375 -0.375 -0.500 -0.500\n\n-sum(a*log2(a))\n\n[1] 1.75"
  },
  {
    "objectID": "cwiczenie_2.html#obliczanie-entropii-standaryzowanej",
    "href": "cwiczenie_2.html#obliczanie-entropii-standaryzowanej",
    "title": "18  Ćwiczenie 2",
    "section": "18.6 Obliczanie entropii standaryzowanej",
    "text": "18.6 Obliczanie entropii standaryzowanej\n\nĆwiczenie 1\nOblicz entropię standaryzowaną dla danych zawartych w plikach przyklad_a.csv, przyklad_b.csv, przyklad_c.csv, przyklad_d.csv, dane_przykladowe.csv\n\n\nĆwiczenie 2\nNapisz funkcję w R obliczającą entropię standaryzowaną."
  },
  {
    "objectID": "cwiczenie_2.html#obliczanie-wskaźnika-niepodobieństwa-d",
    "href": "cwiczenie_2.html#obliczanie-wskaźnika-niepodobieństwa-d",
    "title": "18  Ćwiczenie 2",
    "section": "18.7 Obliczanie wskaźnika niepodobieństwa \\(D\\)",
    "text": "18.7 Obliczanie wskaźnika niepodobieństwa \\(D\\)\nDla 4 jednostek spisowych poniższy wzór na obliczenie wskaźnika niepodobieństwa będzie miał postać:\n\\[D = \\frac{1}{2}\\sum_{i}^{N}\\left\\lvert \\frac{a_{i}}{A} - \\frac{b_{i}}{B} \\right\\rvert\n= \\frac{1}{2} \\times\\left [   \\left |  \\frac{a_{1}}{A} - \\frac{b_{1}}{B} \\right | + \\left |  \\frac{a_{2}}{A} - \\frac{b_{2}}{B} \\right | + \\left |  \\frac{a_{3}}{A} - \\frac{b_{3}}{B} \\right | + \\left |  \\frac{a_{4}}{A} - \\frac{b_{4}}{B} \\right | \\right ]\\] a, b to liczba osób danej grupy rasowej w jednostce spisowej, natomiast A i B to liczba osób z danej grupy rasowej zamieszkująca cały obszar.\n\nĆwiczenie 1\nOblicz wskaźnik niepodobieństwa między grupami W i B oraz W i L dla danych zawartych w pliku przyklad_b.csv\n\n\nĆwiczenie 2\nNapisz funkcję w R obliczającą wskaźnik niepodobieństwa. Zastosuj tą funkcję do obliczenia wskaźników W-B, W-A, W-L dla danych zawartych w plikach przyklad_a.csv, przyklad_b.csv, przyklad_c.csv, przyklad_d.csv, dane_przykladowe.csv"
  },
  {
    "objectID": "cwiczenie_2.html#obliczanie-wskaźnika-wskaźnika-teorii-informacji-h",
    "href": "cwiczenie_2.html#obliczanie-wskaźnika-wskaźnika-teorii-informacji-h",
    "title": "18  Ćwiczenie 2",
    "section": "18.8 Obliczanie wskaźnika wskaźnika teorii informacji H",
    "text": "18.8 Obliczanie wskaźnika wskaźnika teorii informacji H\n\nEtapy obliczenia wskaźnika teorii informacji H\n\nObliczenie liczby osób mieszkających w każdej jednostce spisowej.\nObliczenie odsetka osób w każdej jednostce spisowej oraz w całym obszarze.\n\nObliczenie entropii dla każdej jednostki spisowej (\\(E_{i}\\))\nObliczenie wagi - odsetek ludności w jednostce spisowej w stosunku do liczby ludności całego obszaru (\\(\\frac{t_{i}}{T}\\))\nObliczenie różnicy między entropią całego obszaru a entropią w jednostce spisowej (\\(\\frac{E - E_{i}}{E}\\))\nPomnożenie wartości uzyskanych w punkcie (4) oraz (5)\nZsumowanie wartości uzyskanych w punkcie (6).\n\n\n\nĆwiczenie 1\nOblicz wskaźnik teorii informacji H dla danych zawartych w pliku przyklad_b.csv\n\n\nĆwiczenie 2\nNapisz funkcję w R obliczającą wskaźnik teorii informacji H. Zastosuj tą funkcję do obliczenia wskaźników dla danych zawartych w plikach przyklad_a.csv, przyklad_b.csv, przyklad_c.csv, przyklad_d.csv, dane_przykladowe.csv"
  },
  {
    "objectID": "cwiczenie_2.html#wartości-wskaźników-dla-wymienionych-przykładów",
    "href": "cwiczenie_2.html#wartości-wskaźników-dla-wymienionych-przykładów",
    "title": "18  Ćwiczenie 2",
    "section": "18.9 Wartości wskaźników dla wymienionych przykładów",
    "text": "18.9 Wartości wskaźników dla wymienionych przykładów\nPoniżej zostały zamieszczone wartości wskaźników segregacji oraz zróżnicowania rasowo-etnicznego dla w/w przykładów.\n\nPrzykłady A-D\n\n\n\nPrzykładowe dane\n\n\n\n\n\nID\nBIALI\nCZARNI\nAZJACI\nLATYNOSI\nRDZENNI_AMERYKANIE\nPOZOSTALI\nPOP\n\n\n\n\n40306\n209\n1450\n130\n2517\n10\n56\n4372\n\n\n40307\n919\n1431\n915\n1073\n6\n84\n4428\n\n\n40308\n766\n1374\n278\n1598\n6\n47\n4069\n\n\n40407\n668\n524\n323\n384\n4\n37\n1940\n\n\n40408\n330\n858\n262\n212\n7\n45\n1714\n\n\n40414\n354\n644\n85\n480\n1\n28\n1592\n\n\n40415\n97\n1376\n44\n899\n8\n42\n2466\n\n\n40416\n576\n977\n278\n709\n4\n65\n2609\n\n\n\n\n\n\n\n\n\nWartości wskaźników dla przykładowych danych (przykladowe_dane.csv)\n\n\n\n\n\nDwa\nDwb\nDwl\nH\nE\nEstd\n\n\n\n\n0.1925452\n0.2643989\n0.3634019\n0.0655884\n1.347994\n0.7523296"
  },
  {
    "objectID": "cwiczenie_3.html#cel-ćwiczenia",
    "href": "cwiczenie_3.html#cel-ćwiczenia",
    "title": "19  Ćwiczenie 3",
    "section": "19.1 Cel ćwiczenia",
    "text": "19.1 Cel ćwiczenia\nCelem ćwiczenia jest przygotowanie danych do analizy obejmujące:\n\nselekcję danych dla analizowanego hrabstwa,\nreklasyfikację kategorii rasowo-etnicznych,\nagregację danych do obszarów spisowych\n\nDane te będą podstawą wykonania pozostałych ćwiczeń."
  },
  {
    "objectID": "cwiczenie_3.html#zadanie",
    "href": "cwiczenie_3.html#zadanie",
    "title": "19  Ćwiczenie 3",
    "section": "19.2 Zadanie",
    "text": "19.2 Zadanie\n\nProszę przygotować zestaw danych o rasowo-etnicznej strukturze ludności dla wybranego hrabstwa oraz roku.\nEtapy przygotowania danych do analizy zostały opisane w rozdziale: Dane/Przygotowanie danych."
  },
  {
    "objectID": "cwiczenie_3.html#wyniki",
    "href": "cwiczenie_3.html#wyniki",
    "title": "19  Ćwiczenie 3",
    "section": "19.3 Wyniki",
    "text": "19.3 Wyniki\nW wyniku przygotowania danych należy zachować 4 pliki zapisane w dwóch folderach:\n\nfolder data_attr\n\n[nazwa_hrabstwa]blocks[year]_attr.csv - zawierający dane o strukturze ludności na poziomie bloków spisowych\n[nazwa_hrabstwa]tracts[year]_attr.csv - zawierający dane o strukturze ludności na poziomie obszarów spisowych (census tracts)\n\nfolder data_geo\n\n[nazwa_hrabstwa]_tracts.gpkg - zawierającą warstwy tracts[year] z granicami obszarów spisowych\n[nazwa_hrabstwa]_tracts_attr.gpkg - zawierającą warstwy tracts_attr[year] z granicami obszarów spisowych z dołączoną informacją o rasowo-etnicznej strukturze ludności.\n\n\n\nUwaga! Na koniec ćwiczenia proszę przygotować geopaczki zawierające 4 warstwy dla analizowanych lat."
  },
  {
    "objectID": "cwiczenie_4.html#cel-ćwiczenia",
    "href": "cwiczenie_4.html#cel-ćwiczenia",
    "title": "20  Ćwiczenie 4",
    "section": "20.1 Cel ćwiczenia",
    "text": "20.1 Cel ćwiczenia\nCelem ćwiczenia jest scharakteryzowanie zróżnicowania rasowo-etnicznego oraz segregacji rasowo-etnicznej w wybranym hrabstwie w roku X oraz porównanie wartości wskaźników obliczonych na różnych poziomach agregacji (bloki spisowe vs. obszary spisowe)"
  },
  {
    "objectID": "cwiczenie_4.html#wykorzystane-dane",
    "href": "cwiczenie_4.html#wykorzystane-dane",
    "title": "20  Ćwiczenie 4",
    "section": "20.2 Wykorzystane dane",
    "text": "20.2 Wykorzystane dane\n\nDane o strukturze rasowo-etnicznej na poziomie bloków spisowych (plik nazwahrabstwa_blocks_year_attr.csv)\nDane o strukturze rasowo-etnicznej na poziomie obszarów spisowych (plik nazwahrabstwa_tracts_year_attr.csv)"
  },
  {
    "objectID": "cwiczenie_4.html#zadanie",
    "href": "cwiczenie_4.html#zadanie",
    "title": "20  Ćwiczenie 4",
    "section": "20.3 Zadanie",
    "text": "20.3 Zadanie\n\nObliczenie miar segregacji rasowo-etnicznej (\\(H\\), \\(D\\)) oraz zróżnicowania rasowo-etnicznego (\\(E\\), \\(E_{std}\\)) na podstawie danych z bloków spisowych (blocks)\n\nProszę obliczyć wskaźnik \\(D\\) dla grup: WB – biali/czarni, WA – biali/Azjaci, WL – biali/Latynosi, BL - Czarni/Latynosi, AL - Azjaci/Latynosi, AB - Azjaci/Czarni.\n\nObliczenie miar segregacji rasowej (\\(H\\), \\(D\\)) oraz zróżnicowania rasowego (\\(E\\), \\(E_{std}\\)) na podstawie danych z obszarów spisowych (census tract)\n\nProszę obliczyć wskaźnik \\(D\\) dla grup: WB – biali/czarni, WA – biali/Azjaci, WL – biali/Latynosi, BL - Czarni/Latynosi, AL - Azjaci/Latynosi, AB - Azjaci/Czarni."
  },
  {
    "objectID": "cwiczenie_4.html#wyniki",
    "href": "cwiczenie_4.html#wyniki",
    "title": "20  Ćwiczenie 4",
    "section": "20.4 Wyniki",
    "text": "20.4 Wyniki\nWynikiem ćwiczenia będą 4 tabele zestawiające wyniki dla lat 1990, 2000, 2010, 2020:\n\nTabela 1. Liczba ludności w hrabstwie X w latach ….\nTabela 2. Procentowy udział poszczególnych grup rasowo-etnicznych w hrabstwie X w latach …\nTabela 3. Miary zróżnicowania i segregacji rasowo-etnicznej na poziomie bloków spisowych w hrabstwie X w latach…\nTabela 4. Miary zróżnicowania i segregacji rasowo-etnicznej na poziomie obszarów spisowych w hrabstwie X w latach…\n\nTabele te należy zapisać w pliku csv lub arkuzu kalkulacyjnym. Będą one wykorzystane w poźniejszych ćwiczeniach do przygotowania posteru oraz prezentacji.\n\n\n\nLiczba ludności w hrabstwie X\n\n\nROK\nPOP\nBIALI\nCZARNI\nAZJACI\nRDZENNI_AMERYKANIE\nPOZOSTALI\nLATYNOSI\n\n\n\n\nX\n\n\n\n\n\n\n\n\n\nY\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProcentowy udział grup rasowo-etnicznych w hrabstwie X\n\n\nROK\nBIALI\nCZARNI\nAZJACI\nRDZENNI_AMERYKANIE\nPOZOSTALI\nLATYNOSI\n\n\n\n\nX\n\n\n\n\n\n\n\n\nY\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMiary zróżnicowania i segregacji na poziomie bloków spisowych\n\n\nROK\nE\nEstd\nH\nDwb\nDwl\nDwa\nDbl\n\n\n\n\nX\n\n\n\n\n\n\n\n\n\nY\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMiary zróżnicowania i segregacji na poziomie obszarów spisowych\n\n\nROK\nE\nEstd\nH\nDwb\nDwl\nDwa\nDbl\n\n\n\n\nX\n\n\n\n\n\n\n\n\n\nY"
  },
  {
    "objectID": "cwiczenie_5.html#cel-ćwiczenia",
    "href": "cwiczenie_5.html#cel-ćwiczenia",
    "title": "21  Ćwiczenie 5",
    "section": "21.1 Cel ćwiczenia",
    "text": "21.1 Cel ćwiczenia\nCelem ćwiczenia jest zapoznanie się z formą prezentacji wyników badań w postaci posteru naukowego oraz opracowanie posteru przedstawiającego zmiany poziomu segregacji i zróżnicowania rasowo-etnicznego w wybranym hrabstwie w latach 1990-2020."
  },
  {
    "objectID": "cwiczenie_5.html#wykorzystane-dane",
    "href": "cwiczenie_5.html#wykorzystane-dane",
    "title": "21  Ćwiczenie 5",
    "section": "21.2 Wykorzystane dane",
    "text": "21.2 Wykorzystane dane\nW ćwiczeniu zostaną wykorzystane wyniki analiz opracowanych w ramach ćwiczenia 4."
  },
  {
    "objectID": "cwiczenie_5.html#zadanie",
    "href": "cwiczenie_5.html#zadanie",
    "title": "21  Ćwiczenie 5",
    "section": "21.3 Zadanie",
    "text": "21.3 Zadanie\n\nKażda grupa przygotowuje 1 poster w formacie A0, pionowym przedstawiający zmiany poziomu segregacji i zróżnicowania rasowo-etnicznego w wybranym hrabstwie w latach 1990-2020.\nPoster należy zapisać w pliku PDF.\nDo przygotowania posteru można użyć dowolny program graficzny, np. Inkscape.\nWażnym elementem przygotowania posteru jest odpowiednia selekcja materiału, który będzie pokazany na posterze."
  },
  {
    "objectID": "cwiczenie_6.html#cel-ćwiczenia",
    "href": "cwiczenie_6.html#cel-ćwiczenia",
    "title": "22  Ćwiczenie 6",
    "section": "22.1 Cel ćwiczenia",
    "text": "22.1 Cel ćwiczenia\nCelem ćwiczenia jest określenie przestrzennego rozkładu grup rasowo-etnicznych oraz poziomu zróżnicowania rasowo-etnicznego wewnątrz hrabstwa. Analiza zostanie przeprowadzona na poziomie obszarów spisowych (ang. census tracts). Dla każdego obszaru spisowego zostanie określony procentowy udział grup rasowo-etnicznych oraz zostaną wyliczone miary zróżnicowania rasowo-etnicznego."
  },
  {
    "objectID": "cwiczenie_6.html#wykorzystane-dane",
    "href": "cwiczenie_6.html#wykorzystane-dane",
    "title": "22  Ćwiczenie 6",
    "section": "22.2 Wykorzystane dane",
    "text": "22.2 Wykorzystane dane\n\n[hrabstwo]_tract_attr.gpkg - w ćwiczeniu zostana wykorzystane dane na poziomie obszarów spisowych (census tracts). Geopaczka zawiera granice obszarów spisowych wraz z przypisaną informacją o rasowo-etnicznej strukturze ludności."
  },
  {
    "objectID": "cwiczenie_6.html#zadanie",
    "href": "cwiczenie_6.html#zadanie",
    "title": "22  Ćwiczenie 6",
    "section": "22.3 Zadanie",
    "text": "22.3 Zadanie\n\n22.3.1 Standaryzacja danych między latami\nGranice obszarów spisowych zmieniały się pomiędzy latami. Aby analiza porównawcza między latami 1990-2020 była możliwa, dane z roku 1990, 2000, 2010 trzeba najpierw prztransformować do granic z 2020 roku. W tym celu zostanie wykorzystana metoda powierzchniowo-wagowa.\nWyniki tego etapu zostaną zapisane w geopaczce [hrabstwo]_tracts_areal.gpkg\n\n\n22.3.2 Przestrzenny rozkład grup rasowo-etnicznych\n\nWykorzystując dane przetransformowane do granic z 2020 roku, proszę obliczyć procentowy udział grup rasowo-etnicznych w każdym obszarze spisowym.\nProszę wykonać mapy dla 4 grup rasowo-etnicznych (biali, czarni, Azjaci, Latynosi) przedstawiające procentowy udział grupy w obszarze spisowym.\nMapy należy zapisać w formacie svg oraz png w folderze results/figures.\n\n\n\n22.3.3 Przestrzenny rozkład wartości zróżnicowania rasowo-etnicznego\n\nWykorzystując dane przetransformowane do granic z 2020 roku, proszę obliczyć entropię, entropię standaryzowaną oraz liczbę Hilla dla każdego obszaru spisowego.\nProszę przedstawić na mapie przestrzenny rozkład wartości liczby Hilla w analizowanym hrabstwie.\nMapę należy zapisać w formacie svg oraz png w folderze results/figures."
  },
  {
    "objectID": "cwiczenie_6.html#wyniki",
    "href": "cwiczenie_6.html#wyniki",
    "title": "22  Ćwiczenie 6",
    "section": "22.4 Wyniki",
    "text": "22.4 Wyniki\n\ngeopaczka [hrabstwo]_tracts_areal.gpkg zawierająca dane przetransformowane do granic z 2020 roku\n\ngeopaczkę należy zapisać w folderze data/data_geo\n\ngeopaczka [hrabstwo]_results.gpkg - zawierającą procentowy udział grup rasowo-etnicznych oraz miary zróżnicowania obliczone dla każdego obszaru spisowego.\n\ngeopaczkę należy zapisać w folderze results\n\nmapy zapisane w formacie svg/png w folderze results/figures."
  },
  {
    "objectID": "cwiczenie_7.html#cel-ćwiczenia",
    "href": "cwiczenie_7.html#cel-ćwiczenia",
    "title": "23  Ćwiczenie 7",
    "section": "23.1 Cel ćwiczenia",
    "text": "23.1 Cel ćwiczenia\nCelem ćwiczenia jest wizualizacja przestrzennego rozkładu segregacji rasowo-etnicznej obliczonej dla każdego obszaru spisowego. Wyniki zostaną przedstawione w postaci map segregacji, zróżnicowania oraz klasyfikacji na typy segregacji/zróżnicowania rasowo-etnicznego."
  },
  {
    "objectID": "cwiczenie_7.html#wykorzystane-dane",
    "href": "cwiczenie_7.html#wykorzystane-dane",
    "title": "23  Ćwiczenie 7",
    "section": "23.2 Wykorzystane dane",
    "text": "23.2 Wykorzystane dane\n\n[hrabstwo]_blocks_1990_attr.csv zawierający informacje o strukturze rasowo-etnicznej ludności na poziomie bloków spisowych. Pole GISJOIN_T zawiera identyfikator obszaru spisowego.\n[hrabstwo]_tracts.gpkg zawierający granice obszarów spisowych dla analizowanego roku.\n\n\nW tym ćwiczeniu nie możemy użyć granic obszarów spisowych ujednoliconych między latami. Wynikowe mapy pokazujące rozkład przestrzenny segregacji rasowo-etnicznej w danym roku nie będą zatem w pełni porównywalne ze względu na zmieniające się granice.\n\n\nDlaczego nie możemy użyć granic obszarów spisowych ujednoliconych między latami?"
  },
  {
    "objectID": "cwiczenie_7.html#zadanie",
    "href": "cwiczenie_7.html#zadanie",
    "title": "23  Ćwiczenie 7",
    "section": "23.3 Zadanie",
    "text": "23.3 Zadanie\n\nWykorzystując dane dla wybranego hrabstwa dla analizowanego roku, oblicz miary segregacji rasowej (H)) oraz zróżnicowania rasowego (E, Estd) na poziomie obszarów spisowych.\nNa podstawie wartości H oraz Estd wykonaj klasyfikację typów zróżnicowania/segregacji rasowo-etnicznej."
  },
  {
    "objectID": "cwiczenie_7.html#wyniki",
    "href": "cwiczenie_7.html#wyniki",
    "title": "23  Ćwiczenie 7",
    "section": "23.4 Wyniki",
    "text": "23.4 Wyniki\n\ngeopaczka [hrabstwo]_tracts_seg_div.gpkg zawierającą wartości wskaźnika H, E, Estd oraz wyniki klasyfikacji na poziomie obszarów spisowych.\n\nGeopaczkę należy zapisać w folderze results\n\nOpracowanie wyników powinno zawierać:\n\nmapę pokazującą rozkład wartości wskaźnika H na poziomie obszarów spisowych\nmapę pokazujące rozkład wartości entropii standaryzowanej na poziomie obszarów spisowych.\nmapę z typami struktury rasowo-etnicznej\npodsumowanie, ile obszarów spisowych występowało w danym typie struktury rasowo-etnicznej. Uwaga! Dla każdego roku użyty został inny zestaw granic, zatem wyniki te nie są w pełni porównywalne między latami.\n\nWszystkie mapy należy zapisać w pliku svg w folderze results/figures"
  },
  {
    "objectID": "cwiczenie_8.html#cel-ćwiczenia",
    "href": "cwiczenie_8.html#cel-ćwiczenia",
    "title": "24  Ćwiczenie 8",
    "section": "24.1 Cel ćwiczenia",
    "text": "24.1 Cel ćwiczenia\nCelem ćwiczenia jest przeprowadzenie analizy zmian typów struktury rasowo-etnicznej ludności. Analiza obejmuje:\n\nklasyfikację obszarów spisowych na 13 typów struktury rasowo-etnicznej\nanalizę zmian typów między latami.\n\nKażdy uczestnik grupy wykonuje analizę zmian dla dwóch wybranych lat: 1990-2000, 2000-2010, 2010-2020 oraz 1990-2020.\n\n\n\nUwaga! Analiza zmian między latami (1990-2000, 2000-2010, 2010-2020, 1990-2020) wymaga zestawienia danych przygotowanych przez różnych członków grupy."
  },
  {
    "objectID": "cwiczenie_8.html#wykorzystane-dane",
    "href": "cwiczenie_8.html#wykorzystane-dane",
    "title": "24  Ćwiczenie 8",
    "section": "24.2 Wykorzystane dane",
    "text": "24.2 Wykorzystane dane\n\n[hrabstwo]_tracts_areal.gpkg - w ćwiczeniu zostaną wykorzystane dane zagregowane do obszarów spisowych (ang. census tract) dla dwóch lat zestandaryzowane do granic z roku 2020."
  },
  {
    "objectID": "cwiczenie_8.html#zadanie",
    "href": "cwiczenie_8.html#zadanie",
    "title": "24  Ćwiczenie 8",
    "section": "24.3 Zadanie",
    "text": "24.3 Zadanie\n\n24.3.1 Klasyfikacja danych dotyczących rasowo-etnicznej struktury ludności\n\nWykorzystując dane dla dwóch wybranych lat należy sklasyfikować dane do 13 typów struktury rasowo-etnicznej. Poszczególne typy należy oznaczyć odpowiednimi skrótami literowymi - WL, WM itd. (skróty podane są w nawiasie poniżej).\n\nKlasyfikację wykonujemy wykorzystując dane zestandaryzowane do granic z 2020 roku.\n\nW ćwiczeniu nie podano kodu w jaki sposób wykonać reklasyfikację. Ten etap trzeba wykonać samodzielnie na podstawie poniższych kryteriów klasyfikacji.\nWynik wykonanej klasyfikacji należy zapisać w geopaczce [hrabstwo]_typy.gpkg, nazwa warstwy: klasyfikacja_year1_year2, np. cls1990_2020 (lub inne dla których wykonano klasyfikację).\n\nWarstwa wynikowa musi zawierać następujące pola: GISJOIN - identyfikator obszaru spisowego, cls[year1] (np. cls90) - klasy dla roku 1 (np. 1990), cls[year2] (np. cls20) - klasy dla roku 2 (np. 2020)\nGeopaczkę zapisujemy w folderze results.\n\n\n\nKryteria klasyfikacji\n\nTyp mało zróżnicowany:\n\nKryterium: grupa dominująca stanowi &gt;80% ogólnej liczby ludności.\n\nzdominowany przez białych (WL)\nzdominowany przez czarnych (BL)\nzdominowany przez Azjatów (AL)\nzdominowany przez Latynosów (HL)\n\n\nTyp średnio zróżnicowany (grupa dominująca stanowi 50%-80%):\n\nKryterium: grupa dominująca stanowi &lt;50%-80%&gt; ogólnej liczby ludności.\n\nzdominowany przez białych (WM)\nzdominowany przez czarnych (BM)\nzdominowany przez Azjatów (AM)\nzdominowany przez Latynosów (HM)\n\n\nTyp o dużym zróżnicowaniu (HD)\n\nKryterium: żadna z grup nie przekracza 50%.\n\n\n\n24.3.2 Analiza zmian typów rasowo-etnicznej struktury\n\noblicz liczbę obszarów spisowych według typów w roku X i Y.\noblicz procent obszarów spisowych według typów w roku X i Y.\nwykonaj macierz przejść dla zmian między latami X-Y\nwykonaj mapy dla roku X i Y pokazujące rozmieszczenie typów struktury rasowo-etnicznej w hrabstwie\n\nmapy należy zapisać w pliku svg w folderze results/figures"
  },
  {
    "objectID": "cwiczenie_8.html#wyniki",
    "href": "cwiczenie_8.html#wyniki",
    "title": "24  Ćwiczenie 8",
    "section": "24.4 Wyniki",
    "text": "24.4 Wyniki\n\ngeopaczka [hrabstwo]_typy.gpkg z wynikami klasyfikacji na typy rasowo-etnicznej struktury ludności dla poszczególnych lat. Geopaczkę należy zapisać w folderze results.\nWyniki numeryczne.\n\nmacierze przejść dla zmian między latami X-Y\nliczba obszarów spisowych według typów w roku X i Y.\nprocent obszarów spisowych według typów w roku X i Y.\n\nWizualizacja wyników.\n\nmapy dla roku X i Y pokazujące rozmieszczenie typów struktury rasowo-etnicznej w hrabstwie\n\nWszystkie mapy należy zapisać w pliku svg w folderze results/figures"
  },
  {
    "objectID": "cwiczenie_8.html#wyniki-pracy-grupowej",
    "href": "cwiczenie_8.html#wyniki-pracy-grupowej",
    "title": "24  Ćwiczenie 8",
    "section": "24.5 Wyniki pracy grupowej",
    "text": "24.5 Wyniki pracy grupowej\n\nmapy dla analizowanych lat pokazujące rozmieszczenie typów struktury rasowo-etnicznej w hrabstwie.\nmacierze przejść dla zmian między latami 1990-2000, 2000-2010, 2010-2020, 1990-2020.\nliczba obszarów spisowych według typów w roku 1990, 2000, 2010, 2020.\nprocent obszarów spisowych według typów w roku 1990, 2000, 2010, 2020."
  },
  {
    "objectID": "cwiczenie_9.html#cel-ćwiczenia",
    "href": "cwiczenie_9.html#cel-ćwiczenia",
    "title": "25  Ćwiczenie 9",
    "section": "25.1 Cel ćwiczenia",
    "text": "25.1 Cel ćwiczenia\nCelem ćwiczenia jest zapoznanie się z formą prezentacji wyników badań w postaci prezentacji multimedialnej oraz opracowanie prezentacji multimedialnej przedstawiającej analizę zmian przetrzennego rozkładu rasowo-etnicznej struktury ludności oraz zróżnicowania rasowo-etnicznego w hrabstwie w latach 1990-2020."
  },
  {
    "objectID": "cwiczenie_9.html#wykorzystane-dane",
    "href": "cwiczenie_9.html#wykorzystane-dane",
    "title": "25  Ćwiczenie 9",
    "section": "25.2 Wykorzystane dane",
    "text": "25.2 Wykorzystane dane\nW ćwiczeniu zostaną wykorzystane wyniki analiz opracowanych w ramach ćwiczenia 6,7 i 8."
  },
  {
    "objectID": "cwiczenie_9.html#zadanie",
    "href": "cwiczenie_9.html#zadanie",
    "title": "25  Ćwiczenie 9",
    "section": "25.3 Zadanie",
    "text": "25.3 Zadanie\n\nKażda grupa przygotowuje 10 minutową prezentację multimedialną przedstawiającą wyniki zmian przetrzennego rozkładu rasowo-etnicznej struktury ludności oraz zróżnicowania rasowo-etnicznego w hrabstwie w latach 1990-2020.\nPrzygotowana prezentacja powinna składać się z maksymalnie 10-12 slajdów.\nWażnym elementem przygotowania prezentacji jest odpowiednia selekcja materiału oraz odpowiedni dobór wizualizacji do formy prezentacji."
  },
  {
    "objectID": "cwiczenie_10.html#cel-ćwiczenia",
    "href": "cwiczenie_10.html#cel-ćwiczenia",
    "title": "26  Ćwiczenie 10",
    "section": "26.1 Cel ćwiczenia",
    "text": "26.1 Cel ćwiczenia\nCelem ćwiczenia jest opisanie rasowo-etnicznej struktury ludności wybranego hrabstwa wykorzystując metryki krajobrazowe."
  },
  {
    "objectID": "cwiczenie_10.html#wykorzystane-dane",
    "href": "cwiczenie_10.html#wykorzystane-dane",
    "title": "26  Ćwiczenie 10",
    "section": "26.2 Wykorzystane dane",
    "text": "26.2 Wykorzystane dane\n\nUwaga! Wykonanie ćwiczenia wymaga klasyfikacji przygotowanej w trakcie ćwiczenia 8 (13 typów rasowo-etnicznej struktury ludności).\n\n\ngeopaczka [hrabstwo]_typy.gpkg zawierająca klasyfikację obszarów spisowych na 13 typów rasowo-etnicznej struktury ludności"
  },
  {
    "objectID": "cwiczenie_10.html#zadanie",
    "href": "cwiczenie_10.html#zadanie",
    "title": "26  Ćwiczenie 10",
    "section": "26.3 Zadanie",
    "text": "26.3 Zadanie\nProszę wykorzystać wybrane metryki krajobrazowe do opisania zmian typów rasowo-etnicznej struktury w wybranym hrabstwie.\n\n26.3.1 Przygotowanie danych do analizy\nGeopaczka [hrabstwo]_typy.gpkg zawiera wyniki klasyfikacji obszarów spisowych na 13 typów rasowo-etnicznej struktury ludności. Zastosowanie metod analizy krajobrazu wymaga przekształcenia danych wektorowych w dane rastrowe. W tym celu wykorzystana zostanie funkcja rasterize() z pakietu terra.\nW pliku [hrabstwo]_typy.gpkg typy zróżnicowania rasowo-etnicznego zostały zakodowane skrótami literowymi (np. WM, HD). Przed wykonaniem rasteryzacji należy zamienić kody literowe na kody liczbowe, np. WL = 1, itd."
  },
  {
    "objectID": "cwiczenie_10.html#wyniki",
    "href": "cwiczenie_10.html#wyniki",
    "title": "26  Ćwiczenie 10",
    "section": "26.4 Wyniki",
    "text": "26.4 Wyniki\n\nmapa typów zróżnicowania rasowo-etniczego w formie rastrowej\ntabela zawierającą wartości wybranych wskaźników\nkrótka interpretacja uzyskanych wyników"
  },
  {
    "objectID": "cwiczenie_11.html#cel-ćwiczenia",
    "href": "cwiczenie_11.html#cel-ćwiczenia",
    "title": "27  Ćwiczenie 11",
    "section": "27.1 Cel ćwiczenia",
    "text": "27.1 Cel ćwiczenia\nCelem ćwiczenia jest opracowanie posteru nt. Analiza zróżnicowania przestrzennego oraz zmienności czasowej rasowo-etnicznej struktury ludności wybranego hrabstwa w Stanach Zjednoczonych w latach 1990-2020"
  },
  {
    "objectID": "cwiczenie_11.html#wykorzystane-dane",
    "href": "cwiczenie_11.html#wykorzystane-dane",
    "title": "27  Ćwiczenie 11",
    "section": "27.2 Wykorzystane dane",
    "text": "27.2 Wykorzystane dane\n\nPrzy wykonywaniu posteru zostaną wykorzystane wyniki uzyskane w trakcie wykonywania projektu."
  },
  {
    "objectID": "cwiczenie_11.html#zadanie",
    "href": "cwiczenie_11.html#zadanie",
    "title": "27  Ćwiczenie 11",
    "section": "27.3 Zadanie",
    "text": "27.3 Zadanie\n\nkażda grupa przygotowuje 1 poster w formacie A0, pionowym\nistotnym elementem przygotowania posteru jest odpowiednia selekcja materiału, który zostanie umieszczony na posterze\nposter należy zapisać w formacie PDF.\nprzygotowane postery będą prezentowane na kolejnych zajęciach.\nPoster będzie oceniany. Za poster można otrzymać dwie oceny: ocenę wystawioną przez prowadzącego oraz średnią z ocen wystawionych przez uczestików zajęć."
  },
  {
    "objectID": "cwiczenie_12.html#cel-ćwiczenia",
    "href": "cwiczenie_12.html#cel-ćwiczenia",
    "title": "28  Ćwiczenie 12",
    "section": "28.1 Cel ćwiczenia",
    "text": "28.1 Cel ćwiczenia\nCelem ćwiczenia jest opracowanie prezentacji multimedialnej nt. Analiza zróżnicowania przestrzennego oraz zmienności czasowej rasowo-etnicznej struktury ludności wybranego hrabstwa w Stanach Zjednoczonych w latach 1990-2020"
  },
  {
    "objectID": "cwiczenie_12.html#wykorzystane-dane",
    "href": "cwiczenie_12.html#wykorzystane-dane",
    "title": "28  Ćwiczenie 12",
    "section": "28.2 Wykorzystane dane",
    "text": "28.2 Wykorzystane dane\nW ćwiczeniu zostaną wykorzystane wyniki analiz opracowanych w projektu."
  },
  {
    "objectID": "cwiczenie_12.html#zadanie",
    "href": "cwiczenie_12.html#zadanie",
    "title": "28  Ćwiczenie 12",
    "section": "28.3 Zadanie",
    "text": "28.3 Zadanie\n\nKażda grupa przygotowuje 15 minutową prezentację multimedialną\nPrezentacja bedzie przedstawiana na kolejnych zajęciach oraz oceniona. Za prezentację można otrzymać dwie oceny: ocenę wystawioną przez prowadzącego oraz średnią z ocen wystawionych przez uczestików zajęć."
  },
  {
    "objectID": "cwiczenie_13.html#cel-ćwiczenia",
    "href": "cwiczenie_13.html#cel-ćwiczenia",
    "title": "29  Ćwiczenie 13 i 14",
    "section": "29.1 Cel ćwiczenia",
    "text": "29.1 Cel ćwiczenia\nCelem ćwiczenia 13 i 14 jest prezentacja oraz dyskusja otrzymanych w ramach projektu wyników.\nW trakcie ćwiczeń każda grupa zaprezentuje swój poster oraz prezentację."
  }
]